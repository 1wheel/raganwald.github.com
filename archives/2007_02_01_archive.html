<html> 
<head>
        
        <title>raganwald: 02/07</title>

	<link rel="stylesheet" type="text/css" href="/blog.css" />
	<link rel="stylesheet" type="text/css" href="/sunburst.css" />

	<!-- Meta Information --> 
	<!-- put "BlogMetaData" between angle-dollar and dollar angle  to restore defaults -->

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="MSSmartTagsPreventParsing" content="true" />
	<meta name="generator" content="Blogger" />

	<link rel="alternate" type="application/atom+xml" title="Raganwald Posts + Links(Atom)" href="http://feeds.raganwald.com/raganwald" />
	<!-- <link rel="alternate" type="application/rss+xml" title="Raganwald Posts + Links (RSS 2.0)" href="http://feeds.raganwald.com/raganwald" /> -->
	<link rel="alternate" type="application/atom+xml" title="Raganwald Posts Only (Atom)" href="http://feeds.raganwald.com/raganwald_articles" />
	<link rel="alternate" type="application/atom+xml" title="Raganwald on Twitter (Atom, experimental)" href="http://twitter.com/statuses/user_timeline/14165291.atom" />

	<link rel="service.post" type="application/atom+xml" title="Raganwald" href="https://www.blogger.com/atom/7618424" />
	<link rel="service.post" type="application/atom+xml" title="Raganwald (Atom 1.0)" href="http://www.blogger.com/feeds/7618424/posts/full" />

	<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.blogger.com/rsd.g?blogID=7618424" />



    <link rel="openid.server" href="http://www.myopenid.com/server " />
    <link rel="openid.delegate" href="http://reginald.braithwaite.myopenid.com/" />
    <meta http-equiv="X-XRDS-Location" content="http://reginald.braithwaite.myopenid.com/xrds" />




	<style type="text/css">
	@import url("http://www.blogger.com/css/blog_controls.css");
	@import url("http://www.blogger.com/dyn-css/authorization.css?blogID=7618424");
	</style>

	<!-- /Meta Information -->
</head>

<body>

	<div id="leftcontent">
			<img src="http://weblog.raganwald.com/assets/raganwald_2008_350_150" 
			width="350" height="150" border="0" alt="raganwald" title="raganwald 2008" align="middle"/><br/>
<!--
<div style="background-color:black; text-align: center; color: white; padding: 10px 10px 10px 10px;">
<p><font size="+1">Arthur C. Clarke</font><font size="-1">, 1917&thinsp;&ndash;&thinsp;2008
<br/>&ldquo;If we have learned one thing from the history of invention and discovery,
<br/>it is that, in the long run&mdash;and often in the short one&mdash;the most daring prophecies seem laughably conservative.&rdquo;</font>
</p></div>
-->
		
			
				<div class="DateHeader">Wednesday, February 28, 2007</div>
			

			<div class="Post"><a name="2409068687813768928">&nbsp;</a>
				<span class="PostTitle">

					<a href="http://weblog.raganwald.com/2007/02/make-money-fast.html" title="permanent link">Make Money Fast!</a></span>
					<div style="clear:both;"></div>Kevin Barnes explaining the consequences of <a href="http://codecraft.info/index.php/archives/78/">&#8220;great&#8221; coders<sup>1</sup> getting paid far too little:</a><br /><blockquote>In the end, this means that really great coders will keep getting paid less than they are worth and average ones will keep getting paid more, so the economic benefits of great skill will go primarily to the companies with the best employees and not to the employees themselves.<br /></blockquote><br /><div class="book"><a href="http://www.amazon.com/gp/product/1590596234?ie=UTF8&amp;tag=raganwald001-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1590596234"><img border="0" src="http://weblog.raganwald.com/uploaded_images/business_of_software.jpg"></a><img src="http://www.assoc-amazon.com/e/ir?t=raganwald001-20&amp;l=as2&amp;o=1&amp;a=1590596234" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /><br /><br /><a href="http://www.amazon.com/gp/product/1590596234?ie=UTF8&amp;tag=raganwald001-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1590596234">Eric Sink on the Business of Software</a><img src="http://www.assoc-amazon.com/e/ir?t=raganwald001-20&amp;l=as2&amp;o=1&amp;a=1590596234" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /> is an great book for would-be founders: unlike the &#8220;I&#8217;m the smartest person I know&#8221; autobiographies of people who have struck it rich in Silicon Valley, Eric shares the wisdom he has acquired building an independent software business organically. He has special insights for &#8220;micro-ISVs,&#8221; the super-small businesses that have one or two employees and usually a single, insanely great product. It&#8217;s a must-read for people who want to start their own software business, not just dream about &#8220;someday&#8230;&#8221;<br /><br /></div>I have news for anyone outraged or disappointed by this true statement: <em>all</em> great employees are paid far less than the value they generate, even employees like salespeople that are paid proportionally.<br /><br />Let me put it in this painfully direct manner: who lives better, the slave in the field, the slave in the house, or the master who owns the plantation?<br /><br />Purely and simply, the money is in owning your own business. Every time. Without exception.<sup>2</sup> The point is that if you are any good at what you do, <em>and</em> if you want to earn more money, then you need to found a business. It can be a start up, a consulting business, or even a <a href="http://www.dnalounge.com/">night club</a>.<sup>3</sup> That&#8217;s how you&#8217;ll get paid what you&#8217;re worth.<br /><br />I&#8217;m not even close to being the first to point this out. &#8216;Props&#8217; to Paul Graham<sup>4</sup> for suggesting that starting companies is the best way for twenty-somethings to get paid something close to what they&#8217;re worth.<br /><br /><em>Update</em>: A few people have pointed out that running a business is a skill that is orthogonal to coding. True. And a few people have pointed out that running a business is risky. Also true, and related: running a business without a modicum of business talent is akin to programming without being able to code fizzbuzz.<sup>5</sup> That does not change the basic fact that if you wish to be paid more money, you must successfully run your own business.<br /><br />Look, I&rsquo;m not saying anything in life has a guarantee. If I said &ldquo;A Porsche is faster than a Chevrolet,&rdquo; you can point out that most people either cannot afford a Porsche or reasonably choose not to purchase one. But that doesn&rsquo;t change the fact that the Porsche is still faster.<br /><br />So if you have good reasons for not starting a business, fine. But that does not change the fact that the people who run businesses make more money than the people who work for the people who run businesses.<br /><br /><hr /><br /><ol><li>Let&rsquo;s not argue about whether the bike shed ought to be green. If you think that coding is not a valuable skill, that the value is in communication, or architecture, or eliciting requirements, or some other characteristic of great software developers, feel free to apply some white out to your display and write the appropriate word in. Great developers, however you measure great, are underpaid. By the way, I have no evidence that great coders cannot communicate, do not design great architectures, or are unskilled at divining good requirements. So there.</li><br /><li>The one exception I can think of raising would be Michael Milken, who earned more than half a billion dollars as an employee of Drexel Burnham Lambert. But a cursory examination of his circumstances reveals that he was running his own business under the Drexel banner.</li><br /><li>Or possibly <em>not</em> a night club. See the comments.</li><br /><li>Paul&#8217;s book, <a href="http://www.amazon.com/gp/product/0596006624?ie=UTF8&amp;tag=raganwald001-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0596006624">Hackers and Painters: Big Ideas from the Computer Age</a><img src="http://www.assoc-amazon.com/e/ir?t=raganwald001-20&amp;l=as2&amp;o=1&amp;a=0596006624" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /> is another must-read.</li><br /><li>Actually, getting and keeping a programming job without being able to program is significantly easier than running a business without any talent for it.</li><br /></ol><div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://weblog.raganwald.com/labels/jobs.html">jobs</a></p>&nbsp;
					<span class="PostFooter">

						&para; <a href="http://weblog.raganwald.com/2007/02/make-money-fast.html" title="permanent link">11:32 AM</a>

					 
				</span> 


                                        <p id="postfeeds"></p>

			</div>

			

		
			
				<div class="DateHeader">Monday, February 26, 2007</div>
			

			<div class="Post"><a name="4134602127458276092">&nbsp;</a>
				<span class="PostTitle">

					<a href="http://weblog.raganwald.com/2007/02/haskell-ruby-and-infinity.html" title="permanent link">Haskell, Ruby and Infinity</a></span>
					<div style="clear:both;"></div>Languages like Haskell support <a href="http://en.wikipedia.org/wiki/Lazy_evaluation">lazy evaluation</a>. In principle, you only compute what you actually need, everything else just goes away. If you usually need everything you compute, this may seem like a frill: elegant, even interesting, but having little practical importance. I find it is very much like Tail Call Optimization: if you don&rsquo;t have it, you code around it. Often it makes no difference, but from time to time there is a case where your code will be clearer and more maintainable if you express yourself succinctly and let the compiler do the work of making it efficient.<br /><br />This post is a switch from mumbling about <a href="http://weblog.raganwald.com/2007/02/but-y-would-i-want-to-do-thing-like.html">Y Combinators</a> and using trivial cases to explain interesting ideas: I&rsquo;m going to show some actual code I&rsquo;m writing. I apologise in advance if this adds so much background that it obscures the message about lazy evaluation: extremely simplistic examples sometimes work against the argument because it is too easy to think of other ways to accomplish the needed results.<br /><br />I don&rsquo;t apologise <em>at all</em> for the unpolished nature of the code. This isn&rsquo;t a textbook. And besides:<br /><blockquote><br />Anybody can say you can&rsquo;t write. Let no one say you don&rsquo;t.<br /></blockquote><p style="text-align: right;">&mdash;Ken Rand, courtesy of <a href="http://chalain.livejournal.com/">Chalain</a><br /><br /></p><hr /><br /><br />I&rsquo;ve been <a href="http://en.wikipedia.org/wiki/Hacker">hacking</a> some na&iuml;ve code to cluster data sets.<br /><blockquote><br />In computer programming, a hacker is a software designer and programmer who builds elegant, beautiful programs and systems… For some, &ldquo;hacker&rdquo; has a negative connotation and refers to a person who &ldquo;hacks&rdquo; or uses kludges to accomplish programming tasks that are ugly, inelegant, and inefficient.<br /></blockquote><p style="text-align: right;">&mdash;Wikipedia</p>The clustering algorithm requires a very large, fixed set of curves.<sup>1</sup> I wrote the initial curve generation by building a gigantic list of parameter tuples, and then processing the list into records. Once the &ldquo;search space&rdquo; grew beyond a trivial size, the program began to eat enormous amounts of memory. The problem was that I was trying to write the generation code as clearly as possible, and that created a massive thicket of objects that all resided in memory simultaneously.<br /><br /><div style="float: right; width: 240px; margin-left: 10px; font-style: italic; text-align: center; font-size: 80%;"><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/d/d0/Bezier_curve.svg/800px-Bezier_curve.svg.png" height="150" width="240" />The curves being generated are paths composed of cubic beziérs. Each segment on the path requires specifications for four different control points.<br /></div>I rejected the idea of a rewrite into looping, imperative form, I wanted to separate the &ldquo;list comprehension&rdquo; code from the &ldquo;make it run in less than a gigabyte&rdquo; code. Instead, I chose to use lazy evaluation: the principle is that although the code defines a huge data structure that takes up gigabytes, we only actually evaluate things as we need them, and we discard them when we are done, so the total memory footprint for the lazy form is about the same as the memory footprint for an imperative form.<br /><br />The easiest way to perform the refactoring&mdash;besides a rewrite in Haskell&mdash;was to switch all of the arrays I used for a lazy list data structure. A lazy list is a linked list composed of head and tail tuples (known as <a href="http://en.wikipedia.org/wiki/Cons">cons cells</a>). Where a normal linked list holds an element and the rest of the list, a lazy list holds an element and a function for computing the rest of the list (<a href="http://mitpress.mit.edu/sicp/">SICP</a> calls them &ldquo;<a href="http://mitpress.mit.edu/sicp/full-text/book/book-Z-H-24.html#%_sec_3.5">streams</a>.&rdquo;)<br /><br />If a modicum of care is taken not to pin objects down, you can build fantastically large lazy lists and process them at will. In fact, lazy lists can be infinitely large if you provide the appropriate function for generating the list<br /><br />For that reason, you should never append one lazy list onto another lazy list. Consider <code>odd = LazyList.unfoldr(1) { |n| n + 2 }</code> and <code>even = LazyList.unfoldr(0) { |n| n + 2 }</code>. If you append <code>odd</code> onto <code>even</code>, the resulting list in theory has both even and odd numbers. But in practice you can never reach the odd numbers because there is an infinite quantity of even numbers at the front of the list.<br /><br />Instead, <code>merge</code> them together to produce a lazy union of the two lists. Merge interleaves alternating elements from each list, so the resulting lazy list contains all the elements of each list, and if you take a finite sample, such as the first 1,000 elements, you get 500 of each. <code>even.merge(odd) => (0 1 2 3 ...)</code>. (Other interesting operations that work with infinite lists include <code>cons</code>, <code>pairwise</code> and <code>product</code>.)<br /><br /><blockquote><br />Any sufficiently complicated Lisp or Ruby program contains an ad hoc, informally-specified, bug-ridden, slow implementation of half of Haskell.<br /></blockquote><br />My current version of a <code>LazyList</code> class in Ruby is <a href="http://raganwald.com/source/lazy_lists.html">here</a>. As soon as I switched from the &ldquo;eager&rdquo; code using arrays to the &ldquo;lazy&rdquo; code using lazy lists, memory use went down and performance went up. Not as much as a switch to imperative (and not even close to writing a better clustering algorithm), but enough that I can move forward.<br /><br />Here is an example of a function using arrays to enumerate choices (<code>distribute(2, 1..4) -&gt; [[1, 2], [1, 3], [1, 4], [2, 3], [2, 4], [3, 4]]</code>):<br /><br /><pre><code>def distribute choices, range<br />  spots = (range.end - range.begin) + 1<br />  return [] if choices &lt;= 0 || choices &gt; spots<br />  remaining_choices = choices - 1<br />  if remaining_choices == 0<br />    return range.to_a.map { |spot| [spot] }<br />  else<br />    (range.begin..(range.end - remaining_choices)).to_a.inject([]) { |acc, first_spot| acc + (distribute(remaining_choices, (first_spot + 1)..range.end).map { |remaining_distribution| remaining_distribution.unshift(first_spot) }) }<br />  end <br />end<br /></code></pre>And rewritten with lazy lists:<br /><br /><pre><code>def distribute choices, range<br />  spots = (range.end - range.begin) + 1<br />  return LazyList.new() if choices &lt;= 0 || choices &gt; spots<br />  remaining_choices = choices - 1<br />  if remaining_choices == 0<br />    LazyList.from_range(range).map { |spot| LazyList.from_element(spot) }<br />  else<br />    LazyList.from_range(range.begin..(range.end - remaining_choices)).mapr(:merge) do |first_spot|<br />      distribute(remaining_choices, (first_spot + 1)..range.end).map do |remaining_distribution| <br />        LazyList.cons(first_spot, remaining_distribution) <br />      end<br />    end<br />  end <br />end<br /></code></pre>It&rsquo;s almost identical. <code>LazyLists</code> replace arrays, <code>mapr</code> replaces accumulating a list with <code>inject</code>, and <code>cons</code> replaces <code>unshift</code>, but otherwise it&rsquo;s the same code. Mission accomplished: we&rsquo;ve changed the behaviour without having to change the way we express our algorithms. Had we wanted to, we could have supported enough array syntax that Lazy Lists look exactly like arrays, but that isn&rsquo;t necessary.<br /><br />And when running the entire generator, the memory footprint is dramatically lower. For example, this small routine quoted above no longer generates an array of arrays: it generates a structure that can generate the lists when needed. Switching the data structure changes the evaluation behaviour of the generator code: it gets us 80% of having an imperative structure without having to tie the code to the implementation.<br /><br />This is exactly what separation of concerns is all about: <a href="http://weblog.raganwald.com/2006/12/economizing-can-be-penny-wise-and.html">green code here, yellow code there</a>.<br /><br /><strong>Lazy evaluation is the red pill</strong><br /><br />It&rsquo;s great to make a change to the code&rsquo;s behaviour without changing the way we think about the solution to our problem. But you know what? It isn&rsquo;t <em>interesting</em>. In fact, if lazy optimization was something we needed on a regular basis, we ought to switch to a <a href="http://en.wikipedia.org/wiki/Miranda_%28programming_language%29">language that does it for us</a>. Implementation details ought to be left to libraries, compilers, and virtual machines. That&rsquo;s what they&rsquo;re for.<br /><blockquote><br />A language that doesn&rsquo;t affect the way you think about programming, is not worth knowing.<br /></blockquote><p style="text-align: right;">&mdash;Alan Perlis</p>Now that we hold in our hands a tool for making infinitely long lists, the question to ask is, &ldquo;how does that affect the way we think about generating sample curves?&rdquo;<br /><br />The first thing that comes to mind is to ask why the set of sample curves we generate is finite. It isn&rsquo;t really finite, there are an infinite number of curves. (And not just any infinity, it&rsquo;s Aleph One, the children&rsquo;s book <a href="http://www.amazon.com/gp/redirect.html?ie=UTF8&location=http%3A%2F%2Fwww.amazon.com%2FOne-Two-Three-Infinity-Speculations%2Fdp%2F0486256642&amp;amp;amp;tag=raganwald001-20&linkCode=ur2&amp;camp=1789&creative=9325">One Two Three… Infinity</a><img src="http://www.assoc-amazon.com/e/ir?t=raganwald001-20&amp;amp;amp;l=ur2&o=1" alt="" style="border: medium none  ! important; margin: 0px ! important;" border="0" height="1" width="1" /> explained that forty years ago.)<br /><p></p><div class="book"><br />  <a href="http://www.amazon.com/gp/product/0521644089?ie=UTF8&tag=raganwald001-20&amp;linkCode=as2&amp;amp;camp=1789&creative=9325&amp;creativeASIN=0521644089"><img src="http://weblog.raganwald.com/uploaded_images/haskell_school_of_expression.jpg" border="0" /></a><img src="http://www.assoc-amazon.com/e/ir?t=raganwald001-20&l=as2&amp;amp;amp;o=1&a=0521644089" alt="" style="border: medium none  ! important; margin: 0px ! important;" border="0" height="1" width="1" /><br />I&rsquo;m not a Haskell user (yet), but <a href="http://www.amazon.com/gp/product/0521644089?ie=UTF8&tag=raganwald001-20&amp;linkCode=as2&amp;amp;camp=1789&creative=9325&amp;creativeASIN=0521644089">The Haskell School of Expression: Learning Functional Programming through Multimedia</a><img src="http://www.assoc-amazon.com/e/ir?t=raganwald001-20&l=as2&amp;amp;amp;o=1&a=0521644089" alt="" style="border: medium none  ! important; margin: 0px ! important;" border="0" height="1" width="1" /> has received rave reviews and comes with solid recommendations. It&rsquo;s on my <a href="http://www.amazon.com/gp/registry/wishlist/3A2XEHODQK2WP/ref=wl_web/">wish list</a> if you&rsquo;re feeling generous!<br /><br /></div>What we really want is a <em>finite sample</em> of that infinite set of curves. Now let&rsquo;s zoom in and think about a single parameter, the <code>y</code> value for one of the control points on a curve. Let&rsquo;s say it&rsquo;s a rational number between <code>0.0</code> and <code>1.0</code> inclusive. It&rsquo;s relatively easy to generate a list of rationals in that range. Say we generate <code>0.0000...00001</code> (with jillions of zeroes elided: we want the smallest number our computer can represent), followed by <code>0.0000...00002</code> (the second smallest), and so on.<br /><br />If we leave the computer running for a few months or years, we should get all of the numbers between <code>0.0</code> and <code>1.0</code> that our computer can represent. That shouldn&rsquo;t be hard. But even taking into account the finite limitations on a computer&rsquo;s representation, that list is infinitely long.<br /><br /><strong>Useful samples</strong><br /><br />We need to take a finite sample of all of the infinite possibilities in that list.<br /><br />When working with an infinite list, what we want is that the front part of the list, the part we can access before the heat death of the Universe, contains a useful sample. If we were sampling a list like <code>(0.0000...00001 0.0000...00002 0.0000...00003 0.0000...00004 ... )</code> for control points, the first values are not useful at all. We&rsquo;d just get a line along the <code>x</code> access.<br /><br />There are various strategies for generating a more useful list. We could create an infinite list of random values. I&rsquo;ll outline another method below. But the take-away idea is this: we need lists where the most useful values are first. Working with infinite lists encourage us to think of infinitely sized sets of samples, ordered by usefulness.<br /><br />Let&rsquo;s say that when we generate <code>y</code>, we devise a list like <code>(0.0 1.0 0.5 0.75 0.25 ... )</code>. We&rsquo;re successively bisecting the intervals (which is why the library method is called <code>binary_search</code>). We can stop at any time and we have decent distribution. (And we can pipe dream that in the future, we can train our generator to favour points more likely to be useful to us.) That is much more useful!<br /><br />Here&rsquo;s some Lazy List code that does just that: given two seeds and an optional bisection block, it generates an infinite list of values:<br /><br /><pre><code>def binary_search seed1, seed2, &amp;block<br />  bisection_block = block || lambda { |x, y| (x-y)/2 + y }<br />  LazyList.cons(<br />    seed1,<br />    LazyList.new(<br />      seed2,<br />      delay {<br />        bisect(seed1, seed2, &amp;bisection_block)<br />      }<br />    )<br />  )<br />end<br /><br /># infinitely bisects a space, exclusive of the seed values<br /><br />def bisect seed1, seed2, &amp;block<br />  return EMPTY if seed1 == seed2<br />  half = block.call(seed1, seed2)<br />  LazyList.new(<br />    half,<br />    delay {<br />      merge(<br />        bisect(seed1, half, &amp;block),<br />        bisect(half, seed2, &amp;block)<br />      )<br />    }<br />  )<br />end<br /></code></pre>And indeed, <code>LazyList.binary_search(0.0, 1.0) -&gt; (0.0 1.0 0.5 0.75 0.25 ... )</code>.<br /><br /><strong><a href="http://en.wikipedia.org/wiki/Hilbert%27s_hotel">The Grand Hotel</a></strong><br /><br /><div class="book"><a name="evtst|a|0974514055" onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://www.amazon.com/gp/product/0192861611?ie=UTF8&tag=raganwald001-20&amp;linkCode=as2&amp;amp;camp=1789&creative=9325&amp;creativeASIN=0192861611"><img style="" src="http://weblog.raganwald.com/uploaded_images/satan_cantor_infinity.jpg" alt="Satan, Cantor, and Infinity" border="1" /></a><br /><br /><a href="http://www.amazon.com/gp/product/0192861611?ie=UTF8&tag=raganwald001-20&amp;linkCode=as2&amp;amp;camp=1789&creative=9325&amp;creativeASIN=0192861611">Satan, Cantor, and Infinity and Other Mind-boggling Puzzles</a><img src="http://www.assoc-amazon.com/e/ir?t=raganwald001-20&l=as2&amp;amp;amp;o=1&a=0192861611" alt="" style="border: medium none  ! important; margin: 0px ! important;" border="0" height="1" width="1" /> is a five-star introduction to Cantor&rsquo;s work on infinity, including a special treat: a completely different proof that Aleph One is greater than Aleph Zero based on games, very much in the style of Conway&rsquo;s Surreal Numbers. Currently out of print, but <strong>please</strong> get yourself a used copy from a bookseller: you won&rsquo;t be disappointed!<br /><br /></div>What happens when we try to combine two infinite lists? For example, we want a list of <code>(x, y)</code> tuples, generated as the Cartesian Product of our binary search list with itself. If we use a typical breadth-first or depth-first algorithm, we&rsquo;re sunk. We get <code>( (0.0 0.0) (1.0 0.0) (0.5 0.0) (0.75 0.0) (0.25 0.0)... )</code>. That has a nice distribution along one axis but still useless. What we need is a way of combining two infinite lists such that they give us a nice useful sample when we take a finite number of elements off the front.<br /><br />Here&rsquo;s a table describing how the ‘breadth-first&rsquo; algorithm for generating the product of two lists works. Consider two lists of three elements each. In the table below, columns represent one list and rows the other. The numbers represent the order that the product of the lists is generated:<br /><br /><table><tbody><tr><th colspan="3">Breadth-first mapping from elements to integers</th><br />      </tr><tr><td>1</td><td>2</td><td>3</td></tr><br />      <tr><td>4</td><td>5</td><td>6</td></tr><br />      <tr><td>7</td><td>8</td><td>9</td></tr></tbody></table><br />This works fine for finite lists, but as we saw above it is useless for infinite lists. But looking at it in table form is useful. The product of two lists <em>is</em> tabular, the problem with a traditional algorithm is the order that we select elements from the table, not that the elements are tabular. Just as we solved the problem of how to sample <code>y</code> magnitudes by changing the order in which we selected rationals between <code>0.0</code> and <code>1.0</code>, what we need to do with Cartesian Products, what we need to do is select the products in an order that provides useful results.<br /><br />As it happens, there&rsquo;s an order that generates useful finite samples when dealing the product of two infinite lists: Instead of generating rows and appending them to each other, it generates <em>diagonals</em> and <em>merges</em> them with each other. The first diagonal is <code>1, 5, 9</code>. The second is <code>4, 8</code>. The third is <code>2, 6</code>. And so on. The advantage of this algorithm is that if given two infinite lists, it starts in the upper left-hand corner and supplies values, working its way right and down.<sup>2</sup><br /><br />Here&rsquo;re the first four values of the product of two binary searches with each other: <code>[{:x=&gt;0.0, :y=&gt;0.0}, {:x=&gt;0.0, :y=&gt;1.0}, {:x=&gt;1.0, :y=&gt;0.0}, {:x=&gt;0.0, :y=&gt;0.5}]</code>. And the next four: <code>[{:x=&gt;1.0, :y=&gt;1.0}, {:x=&gt;1.0, :y=&gt;0.5}, {:x=&gt;0.5, :y=&gt;0.0}, {:x=&gt;0.0, :y=&gt;0.25}]</code>. And the next eight: <code>[{:x=&gt;0.5, :y=&gt;0.5}, {:x=&gt;0.5, :y=&gt;0.25}, {:x=&gt;0.5, :y=&gt;1.0}, {:x=&gt;1.0, :y=&gt;0.25}, {:x=&gt;0.25, :y=&gt;0.25}, {:x=&gt;0.25, :y=&gt;0.75}, {:x=&gt;0.25, :y=&gt;0.0}, {:x=&gt;0.0, :y=&gt;0.75}]</code>.<br /><br />We can take as many samples as we want, and more sample give us more &ldquo;resolution.&rdquo; We now have the tools we need to get rid of all of the limits and finite combinations and focus on describing what we&rsquo;re trying to generate without intermingling a lot of generating code.<br /><blockquote><br />And I&rsquo;m thinking about eternity<br />Some kind of ecstasy got a hold on me<br /></blockquote><p style="text-align: right;">&mdash;Bruce Cockburn, <a href="http://cockburnproject.net/songs&music/wwtla.html">Wondering Where The Lions Are</a></p>Now that we can generate an infinite list of useful magnitudes, plus we can combine infinite lists in a useful way, we can define an infinite list of sample curves. Here&rsquo;s the exact definition of an infinite list of partial beziérs (there are only three control points because the origin of the beziér is always the terminus of the previous beziér in the curve we are generating):<br /><p></p><pre><code>def sample_cubic_beziers<br />  magnitudes = LazyList.binary_search(0.0, 1.0)<br />  control_points = LazyList.cartesian_product(magnitudes, magnitudes) do |x, y|<br />    { :x => x, :y => y }<br />  end<br />  LazyList.cartesian_product(control_points, control_points, control_points) do |p1, p2, p3|<br />    {<br />      :p1 => p1,<br />      :p2 => p2,<br />      :p3 => p3<br />    }<br />  end<br />end<br /></code></pre>That&rsquo;s really simple, and really easy to understand.<sup>3</sup> The domain-specific code that defines a cubic Bezi&eacute;r is concise and readable. And the infrastructure code that handles combinatorics is shunted away out of sight where it doesn&rsquo;t clutter up our thinking.<br /><br />So what have we seen?<br /><ol><br /><li>Lazy evaluation solved a performance problem without needing an extensive rewrite of our generation code;</li><br /><li>Taking the red pill, infinite lists allowed us to radically simplify the original code.</li><br /></ol>Are there some opportunities to steal an idea like lazy evaluation from other languages and use them to simplify your code?<br /><br /><hr /><br /><ol><li>The data is a set of <code>(x,y)</code> tuples where <code>x</code> is time and <code>y</code> is a magnitude. The effort remaining in a <a href="http://www.mountaingoatsoftware.com/sprint_backlog">sprint backlog</a> is an example of this kind of data set. I need a function that computes the distance between any two data sets. I already have a function that computes the distance between a curve through the <code>xy</code> space and a data set, so if I build a lot of curves and then take the distance between each curve and each data set, I can find the distance between pairs of data sets by searching for the curve with the lowest total distance.<br /><br />This operation is On<sup>2</sup>, but that&rsquo;s why we invented distributed processing. Also, this operation is done infrequently relative to operations making use of the clusters, something like Google&rsquo;s indexing being far less frequent than searching Google. And of course, when my MacBook overheats and burns its way through my desk, I can come back and replace the brute force operation with something more intelligent.<br /><br />Well, all this requires generating the sample curves. I have code that makes curves out of Beziérs, provided I supply coördinates for the control points. the curves are actually <code>ActiveRecord</code> models. So all I needed was some simple code that generates all of the possible combinations and then write them to the database. It&rsquo;s the kind of thing candidates write in job interviews where employers actually care about their stone cutting skills.</li><br /><li>This problem is congruent to the proof that the set of all points on a plane is the same size as the set of all points in a line.</li><br /><li>And it could be simpler yet: a &ldquo;list comprehensions&rdquo; DSL for lazy lists <strike>is on the wish list</strike> <a href="http://weblog.raganwald.com/2007/03/approach-to-composing-domain-specific.html#lcir">would make things far more readable</a>.</li><br /></ol><div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://weblog.raganwald.com/labels/lispy.html">lispy</a>, <a rel='tag' href="http://weblog.raganwald.com/labels/ruby.html">ruby</a></p>&nbsp;
					<span class="PostFooter">

						&para; <a href="http://weblog.raganwald.com/2007/02/haskell-ruby-and-infinity.html" title="permanent link">1:49 PM</a>

					 
				</span> 


                                        <p id="postfeeds"></p>

			</div>

			

		
			
				<div class="DateHeader">Monday, February 12, 2007</div>
			

			<div class="Post"><a name="677902229715311072">&nbsp;</a>
				<span class="PostTitle">

					<a href="http://weblog.raganwald.com/2007/02/programming-language-stories.html" title="permanent link">Programming Language Stories</a></span>
					<div style="clear:both;"></div><strong>C</strong><br /><br />A fellow needs a dog house, so he hires a contractor. This guy is a C programmer who&#8217;s between jobs at the moment, and he says forget those wimpy &#8220;agile&#8221; wooden dog houses, he can build the dog house out of bricks, it will last forever and is stronger than any wood structure.<br /><br />The client is doubtful, but that sounds very impressive, and the contractor says this is how all the real-world dog houses are made, so he agrees. Well, it takes forever: it seems every time the contractor thinks it&#8217;s finished, they discover there&#8217;s a chink between the bricks and there&#8217;s a leak. With wood you just trim to fit, but with bricks you have to plan everything in advance so that the bricks line up just right.<br /><br />But Spring turns to Summer turns to Autumn, and the job is done. The client pays up, and the contractor&#8217;s about to leave when he stops and thinks for a moment before speaking.<br /><br />&#8220;Hey,&#8221; the contractor says, &#8220;You paid for a pallet of bricks, and I used all but one. It&#8217;s a shame if it goes to waste. Why don&#8217;t I see if I can use it somewhere?&#8221; The client asks like what, and before you know it the contractor has scored a contract to build a brick path for the dog from the back door to the dog house. He orders some more bricks, gets to work right away, and this time things go a little better.<br /><br />The contractor is now doing C++ on the side. And he uses some new bricklaying techniques he learned from <a href="http://www.amazon.com/gp/product/0321334876?ie=UTF8&tag=raganwald001-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=0321334876">Effective C++</a><img src="http://www.assoc-amazon.com/e/ir?t=raganwald001-20&l=as2&o=1&a=0321334876" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />: there are these funny angle braces everywhere thanks to his path building templates. Soon that job is done and the contractor collects his fee. He&#8217;s about to leave, but he reaches into his tool chest and pulls out a brick.<br /><br />&#8220;Hey,&#8221; the contractor says, &#8220;You paid for another pallet of bricks, and I used all but one on the path. It&#8217;s a shame if it goes to waste. Why don&#8217;t I see if I can use it somewhere?&#8221; The client is happy with the path, asks like what, and before you know it the contractor has scored another contract, this time to build a brick wall enclosing the yard. He orders some more bricks, and gets to work right away.<br /><br />Meanwhile, the contractor has become a Visual C++ programmer and reads MSDN magazine religiously. He applies his new skills to building the wall: he has all these fancy tools that can put up sections of scaffolding when you push a button. of course, there are huge holes you have to fill in yourself, and the scaffolding has all these crazy joins and angles, it&#8217;s hard to change anything or understand how the entire wall fits together, but it feels like you&#8217;re getting a lot done because the system seems to move a lot of bricks for you.<br /><br />Well, the wall takes forever, and it doesn&#8217;t look that good when it&#8217;s finally done. But the client pays up and the contractor is ready to leave. But he stops for a moment and pulls a brick out of his tool chest.<br /><br />&#8220;Hey,&#8221; the contractor says, &#8220;You paid for two more pallets of bricks for the wall, and I used all but one. It&#8217;s a shame if it goes to waste. Why don&#8217;t I see if I can use it somewhere?&#8221;<br /><br />The client has had enough of this, and he decides he&#8217;s going to show the contractor how he feels. &#8220;Give me that brick,&#8221; he orders. The surprised contractor hands it over. &#8220;I don&#8217;t give a rat&#8217;s ass about this brick&#8221; the client huffs, and he throws the brick clear out of his yard.<br /><br />&#8220;I need to get work done, not talk to contractors all day about bricks. And besides, I&#8217;ve talked to the big landscape contracting companies, and they all say nobody is using bricks, everyone has switched to sharp tools and netting. Now get out.&#8221;<br /><br /><strong>Ruby on Rails</strong><br /><br />Just inside the gates of heaven, St. Peter sits at a desk checking people in.<br /><br />Peter:  &#8220;Welcome to heaven.  Programming language?&#8221;<br /><br />The man at the front of the line says, &#8220;<a href="http://www.amazon.com/gp/product/0133713458?ie=UTF8&tag=raganwald001-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=0133713458">Smalltalk</a><img src="http://www.assoc-amazon.com/e/ir?t=raganwald001-20&l=as2&o=1&a=0133713458" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />.&#8221;<br /><br />Glancing at his clipboard, Peter says, &#8220;Room 33.  Be very quiet as you pass Room Six.&#8221;<br /><br />The process repeats itself with the next person in line:<br /><br />Peter:  &#8220;Welcome to heaven.  Programming language?&#8221;<br /><br />Person #2:  &#8220;<a href="http://www.amazon.com/gp/product/1590592395?ie=UTF8&tag=raganwald001-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=1590592395">Common Lisp</a><img src="http://www.assoc-amazon.com/e/ir?t=raganwald001-20&l=as2&o=1&a=1590592395" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />.&#8221;<br /><br />Peter:  &#8220;Room 17.  Be very quiet as you pass Room Six.&#8221;<br /><br />The next person moves to the front of the line with a look of curiosity on her face.<br /><br />Peter:  &#8220;Welcome to heaven.  Programming language?&#8221;<br /><br />Person #3:  &#8220;<a href="http://www.amazon.com/gp/product/0596009259?ie=UTF8&tag=raganwald001-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=0596009259">Python</a><img src="http://www.assoc-amazon.com/e/ir?t=raganwald001-20&l=as2&o=1&a=0596009259" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />.&#8221;<br /><br />Peter:  &#8220;Room 54.  Be very quiet as you pass Room Six.&#8221;<br /><br />Person #3:  &#8220;Why do you keep telling us to be quiet as we pass Room Six?&#8221;<br /><br />Peter:  &#8220;Because the <a href="http://www.amazon.com/gp/product/0977616630?ie=UTF8&tag=raganwald001-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=0977616630">Ruby on Rails</a><img src="http://www.assoc-amazon.com/e/ir?t=raganwald001-20&l=as2&o=1&a=0977616630" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /> People are in Room Six, and they think they&#8217;re the only ones here.&#8221;<br /><p style="text-align: right">&#8212;Snarfed from Eric Sink&#8217;s <a href="http://software.ericsink.com/articles/Boundaries.html">Baptists and Boundaries</a></p><br /><strong>Java</strong><br /><br />A mother was preparing the pot-roast for Sunday&#8217;s big family dinner. Before searing it and placing it in the pan, she carefully sliced the ends off. Her three year-old daughter asked &#8220;Mommy, why do you cut the ends off the roast?&#8221;<br /><br />She answered, &#8220;My mom taught me to do it that way, and it&#8217;s delicious, so it must be a good idea. Maybe the juices from the meat mix with the vegetables?&#8221;<br /><br />Everyone sits down for dinner, and when Father is serving the roast, the daughter remembers her question. She turns to Grandma and asks, &#8220;Grandma, why did you teach Mommy to cut the ends off the roast?&#8221;<br /><br />Grandma thinks for a moment and says, &#8220;What a delightful question! I always used to cut the ends off the roast, it&#8217;s how <em>my</em> mother taught me. I don&#8217;t know why she did that, there must have been a good reason.&#8221; Grandma sits for a moment, remembering her mother. &#8220;Well,&#8221; she continues, &#8221; there must have been a good reason. Now eat your dinner before it gets cold!&#8221;<br /><br />The holidays roll around, and they&#8217;re having dinner at Grandma and Grandpa&#8217;s house. &#8220;Hey!&#8221; Grandma says to the little girl, &#8220;You know what, I was going through your great-grandmother&#8217;s things, and I found the old roast pan. We sure made some good pot roast in it. Let&#8217;s make pot roast with it tonight in her honour!&#8221;<br /><br />They get out the pan and wash it up. It&#8217;s old, and well-seasoned. Grandma looks it over. &#8220;It&#8217;s smaller than I remember. I was a little girl, and everything looks bigger when you&#8217;re small!&#8221;<br /><br />They put the roast on the counter before searing it. Just then, Grandpa walks by. &#8220;Do you want me to cut the ends off the roast?&#8221; he asks. &#8220;It&#8217;s the only way you&#8217;ll get it to fit in that small pan.&#8221;<br /><br />Grandma and the little girl look at each other. And they smile.<br /><br /><strong>Scheme</strong><br /><br />A fellow is on vacation, and he decides to ride one of those &#8220;scenic&#8221; double-decker buses that drive around from attraction to attraction. The upper level is open-air, and he&#8217;s the only one up there. He looks around, and decides that instead of re-reading his copy of <a href="http://www.amazon.com/gp/product/0262560992?ie=UTF8&tag=raganwald001-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=0262560992">The Little Schemer</a><img src="http://www.assoc-amazon.com/e/ir?t=raganwald001-20&l=as2&o=1&a=0262560992" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />, he&rsquo;s going to really enjoy himself: he lights a cigar.<br /><br />No sooner has he lit the cigar when a woman comes huffing and puffing upstairs, carrying one of those sub-miniature dogs people use as fashion accessories. She takes one look at our man and demands he put the cigar out: it is <em>offensive to the dog</em>.<br /><br />&#8220;Madam,&#8221; our man asserts, &#8220;this cigar is not offensive. Let me tell you its secrets.&#8221;<br /><br />&#8220;Eschewing inferior mass-market tobacco, I order whole, functional leaves&#8212;at great expense and with difficulty&#8212;from a small collective in Cuba that still grow cigar tobacco the old-fashioned, original way.&#8221;<br /><br />&#8220;Unsullied by automatic rolling machines or other push button devices, I roll each cigar, myself, by hand. Using secret tobacco-macro techniques that are impenetrable to the typical ignorant cigarette smoker, I am able to pack as much smoking pleasure into a single cigar as would take a carton of cigarettes&#8212;nay, it is impossible to enjoy a smoke from regular cigarettes as much as I enjoy the elite, exclusive flavour of my cigars.&#8221;<br /><br />The woman is not impressed. &#8220;If your cigars are so good, how come nobody smokes them?&#8221; she asks. &#8220;If your cigars are so good, how come so many clubs and restaurants permit cigarettes but forbid cigars?&#8221;<br /><br />Our fellow is so irate he begins to splutter. &#8220;If you or your dog are unable to understand that the purity, the perfection achieved long ago on a remote island far from consumerism and mass productio&#8212;&#8221; But he is unable to finish, for the woman imperiously sweeps the cigar from his mouth and flings it over the side of the bus.<br /><br />&#8220;That&#8217;s what I think of your pompous cigar.&#8221; She tells him.<br /><br />He glares at her for a moment, then years of oppression, of being forced to live with the hated cigarettes against his will, bring him to a boil and he commits an unthinkable act. With a wrench, he seizes the dog and flings it after his cigar. There is a moment of uncomprehending shock, and then the woman begins to howl.<br /><br />Well, the bus driver hears all this and slams on the brakes. For a moment everything is higgledy-piggledy, and just as the woman&#8217;s wails return to their full volume, everyone is shocked to see the dog come trotting up, unharmed.<br /><br />And what do you know: the dog has&mdash;nestled gently in its mouth&mdash;the most unexpected thing:<br /><br /><a href="http://www.rot13.com/index.php?text=Gur%20Oevpx" title="The Brick">Gur Oevpx</a>.<br /><hr><br />If you enjoyed these stories, you may also like <a href="http://weblog.raganwald.com/2005/07/why-you-need-degree-to-work-for-bigco.html">Why You Need a Degree to Work For BigCo</a> and more recently, <a href="http://weblog.raganwald.com/2007/04/venture-capitalist-passes-away.html">A Venture Capitalist passes away peacefully, and...</a>.<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://weblog.raganwald.com/labels/java.html">java</a>, <a rel='tag' href="http://weblog.raganwald.com/labels/lispy.html">lispy</a>, <a rel='tag' href="http://weblog.raganwald.com/labels/ruby.html">ruby</a></p>&nbsp;
					<span class="PostFooter">

						&para; <a href="http://weblog.raganwald.com/2007/02/programming-language-stories.html" title="permanent link">3:10 PM</a>

					 
				</span> 


                                        <p id="postfeeds"></p>

			</div>

			

		
			

			<div class="Post"><a name="4584495555406238981">&nbsp;</a>
				<span class="PostTitle">

					<a href="http://weblog.raganwald.com/2007/02/complete-pain.html" title="permanent link">A complete pain</a></span>
					<div style="clear:both;"></div><blockquote><br />  I&#8217;m not against types, but I don&#8217;t know of any type systems that aren&#8217;t a complete pain, so I still like dynamic typing.<br /></blockquote><p style="text-align: right;">&#8212;Dr. Alan Kay on <a href="http://userpage.fu-berlin.de/~ram/pub/pub_jf47ht10Ht/doc_kay_oop_en">The Meaning of &ldquo;Object-Oriented Programming</a>&rdquo;</p><div style="clear:both; padding-bottom:0.25em"></div>&nbsp;
					<span class="PostFooter">

						&para; <a href="http://weblog.raganwald.com/2007/02/complete-pain.html" title="permanent link">12:51 PM</a>

					 
				</span> 


                                        <p id="postfeeds"></p>

			</div>

			

		
			
				<div class="DateHeader">Friday, February 09, 2007</div>
			

			<div class="Post"><a name="117104072110045314">&nbsp;</a>
				<span class="PostTitle">

					<a href="http://weblog.raganwald.com/2007/02/program-in-java-you-must-be-joking.html" title="permanent link">Program in Java? You must be joking!</a></span>
					<div style="clear:both;"></div><blockquote><br />The Y combinator design pattern in Java is easily understood and can be used and maintained by unskilled, entry-level programmers.<br /><br />Cuius rei demonstrationem mirabilem sane detexi. Hanc marginis exiguitas non caperet.<br /></blockquote><br />You know, this kind of joke seems to rile Java apologists to no end. They come out of the woodwork with their web browsers set to <em>flame</em>. Absolutely no criticism of the language that powers everything from the web to space exploration (although there is never any talk of toasters) is allowed.<br /><br />And <em>do not</em> criticize the culture in any way whatsoever. Although it&#8217;s perfectly ok to boast that Java is designed to appeal to the widest possible diversity of skill levels, you <em>may not</em> suggest that Java programmers are stupid. Or else.<br /><br /><div class="book"><style type="text/css">.flickr-photo { border: solid 2px #000000; }.flickr-yourcomment { }.flickr-frame { text-align: left; padding: 3px; }.flickr-caption { font-size: 0.8em; margin-top: 0px; }</style><div class="flickr-frame"> <a href="http://www.flickr.com/photos/thomasb/334531216/" title="silly daddy!"><img height="240" width="168" src="http://farm1.static.flickr.com/138/334531216_31fa1468ac.jpg" class="flickr-photo" alt="" /></a><br /> <span class="flickr-caption"><a href="http://www.flickr.com/photos/thomasb/334531216/">silly daddy!</a>, originally uploaded by <a href="http://www.flickr.com/people/thomasb/">thomas.braithwaite</a>.</span></div>    <p class="flickr-yourcomment"> </p><br /></div>I am trying not to tell anyone what to do, but I have an observation. Have you ever heard a politically incorrect but extremely funny joke about a member of a particular culture? You know you have. And furthermore, the joke was probably told by a member of the group victimized in the joke.<br /><br />The unwritten rule is, if you&#8217;re a member, jokes are <em>fair game</em>. I was once with some, ahh, members of a religion that directly predated and evolved into Christianity. They were telling some jokes about their culture and religion. I had heard a few such jokes, but I wisely refrained from telling any. It&#8217;s not allowed. That&#8217;s the rule: outsiders may not joke.<br /><br />So back to Java. Guess what? I&#8217;m an <em>insider</em>. I write Java code every working day. If you care about hollow appeals to authority, I once wrote a Scheme implementation in Java. I was also the team lead for JProbe Threadalyzer, a tool that analyses multi-threaded Java behaviour. And the development manager for JProbe Server-Side Suite (the aforementioned thread analyser, plus profiling, code coverage, and memory debugging tools). And various J2EE implementations with various degrees of Enterprisy-ness.<br /><br />None of that makes me an expert. Nor does it make me right when I criticize or joke. But it does give me a certain smug <em>right to joke</em>. And don&rsquo;t we all need a laugh from time to time, even if we&rsquo;re laughing at ourselves? Perhaps <em>especially</em> if we're laughing at ourselves?<br /><br />I think it&rsquo;s a sign of good health to be able to laugh at ourselves and criticize our foibles. For all of the talk of Java as a &ldquo;mature platform,&rdquo; don&rsquo;t you agree that &ldquo;not taking criticism well&rdquo; is a little, well, <em>immature</em>? <br /><br />So since it&#8217;s Friday:<br /><br /><blockquote><br />A Muslim, a Vegetarian, and a Java Programmer are traveling by foot, and they stop at a farm house to sleep for the night. The farmer is impressed at the obvious sophistication of the Java Programmer&#8217;s tales of Enterprise wonder, and he invites her into the house. The Muslim he sends to the hayloft, and the Vegetarian can sleep in the barn.<br />  <br />  Well, the farmer is just pouring a night-cap and listening to the Java Programmer describe the time she knocked together a farm workflow application in less than a million lines of XML configuration code when there&#8217;s a knocking on the door.<br /><br />He opens the door and the Vegetarian is standing there. &#8220;I&#8217;m sorry,&#8221; the Vegetarian apologizes, &#8220;But you slaughter animals in the barn, and eating meat is offensive to my beliefs. I cannot sleep in the barn.&#8221; The farmer thinks this is bunkum, but he was raised to be courteous to his guests, so he asks the Vegetarian to swap places with the Muslim.<br />  <br />  The farmer knocks back his drink and turns down the lights. He can hear the Java Programmer setting up a sleeping bag factory to generate down-filled singleton sleeping containers in the living room. His wife is reading in bed, and he&#8217;s looking forward to catching up on the Wall Street Journal.<br /><br />Well, he is just about to climb into bed when there&#8217;s a banging on the door. He opens the door, and the Muslim is standing there. &#8220;I&#8217;m sorry,&#8221; the Muslim apologizes, &#8220;But you keep pigs in the barn, and pigs are profane according to my beliefs. I cannot sleep in the barn.&#8221;<br />  <br />  Muttering, the farmer rouses the Java Programmer off the couch and asks her to switch with the Muslim. He climbs into bed and has just started to read an interesting article on hedging commodity futures with convex derivatives when there&#8217;s a thunderous hammering at the door. His wife tells him to stay put and she goes to answer it. The farmer hears some excited talking, and a moment later his wife is at the bedroom door.<br />  <br />  &#8220;Honey,&#8221; she says, &#8220;it&#8217;s the pigs.&#8221;<br /></blockquote><div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://weblog.raganwald.com/labels/java.html">java</a>, <a rel='tag' href="http://weblog.raganwald.com/labels/popular.html">popular</a></p>&nbsp;
					<span class="PostFooter">

						&para; <a href="http://weblog.raganwald.com/2007/02/program-in-java-you-must-be-joking.html" title="permanent link">11:59 AM</a>

					 
				</span> 


                                        <p id="postfeeds"></p>

			</div>

			

		
			

			<div class="Post"><a name="117103274152755315">&nbsp;</a>
				<span class="PostTitle">

					<a href="http://weblog.raganwald.com/2007/02/off-topic-eliding-raganwald.html" title="permanent link">Off Topic: Eliding Raganwald</a></span>
					<div style="clear:both;"></div>My editing &#8220;policy&#8221;:<br /><br />(Please imagine me making those oh-so-last-century quote marks with my fingers as I say the word <em>policy</em>.)<br /><br />I deliberately post as soon as I think an idea is finished enough to communicate the gist. Then, as time and inclination allow, I polish my posts. Sometimes readers provide some excellent feedback, and that gets worked in as well. To me, this reworking is a benefit of the medium. If you read and re-read my posts, especially in the first seventy-two hours, you&#8217;ll see the changes.<br /><br />So far, this is probably not contentious. However, there is a prevailing style amongst bloggers to mark their edits, perhaps by <strike>striking out</strike> words they have elided.<br /><br /><strong>update</strong>: Or by noting that new words are, well, <em>new</em>.<br /><br />There are good reasons for that style. The primary place where people insist on it is when there&#8217;s some emotionally charged conversation, and someone retracts something they&#8217;ve said. The idea seems to be that if you just delete wrong words, you&#8217;re pretending you never said them, which is somehow hypocritical and reprehensible.<br /><br />I do not subscribe to this view, and I do not hold others to it. My intent with my writing is to present as coherent a view as possible. Vast tracts of <strike>strikeout</strike> and insertions can degrade a post.<br /><br />That being said, you will find stricken words and updates scattered throughout the site. I use this style when I am trying to portray a thought process. For example, I recently described an unexpected behaviour and admitted I didn&#8217;t know what was going on, although I speculated as to what might be causing the behaviour. A reader managed to explain the behaviour in a comment. I struck out my original words and added an explanation. That particular post was about unexpected behaviours, so showing the process of going from not knowing what was going on to having someone else explain it added value to the post.<br /><br />Nevertheless, there is no overarching consistent policy around edits. If recording my words exactly as I originally said them is important, someone ought to donate more funding to the <a href="http://www.archive.org/">wayback machine</a> so that it can achieve a finer granularity of archiving.<br /><br />Is this a disclaimer?<br /><br />Of a sorts. I fully expect that sooner or later someone is going to write an angry comment saying that I changed my words and didn&#8217;t keep the originals around as a scarlet letter of shame. Knowing my (bad) habit of writing emotional posts before I&#8217;ve had my third coffee, it&#8217;s inevitable that I&#8217;ll write something I&#8217;ll regret enough to retract.<br /><br />I don&#8217;t expect that writing this will get me off the hook when that happens. I&#8217;m not saying to you, &#8220;no fair criticizing me for doing this, it&#8217;s in the fine print.&#8221; I&#8217;m writing this to explain, not to mitigate.<br /><br />Ok, thanks for your patience with this wildly off-topic post. Time for my second coffee and to return to working with a team of programmers a cut above <strike>JavaSchools idiots</strike> <strike>mediocrity</strike> <strike>certification-happy and buzzword-driven programmers</strike> the rest.<br /><br />;-)<div style="clear:both; padding-bottom:0.25em"></div>&nbsp;
					<span class="PostFooter">

						&para; <a href="http://weblog.raganwald.com/2007/02/off-topic-eliding-raganwald.html" title="permanent link">9:51 AM</a>

					 
				</span> 


                                        <p id="postfeeds"></p>

			</div>

			

		
			
				<div class="DateHeader">Wednesday, February 07, 2007</div>
			

			<div class="Post"><a name="117088092580614361">&nbsp;</a>
				<span class="PostTitle">

					<a href="http://weblog.raganwald.com/2007/02/why-ruby-is-not-acceptable.html" title="permanent link">Why Ruby is not an acceptable implementation of Lisp</a></span>
					<div style="clear:both;"></div>The other day, while actually writing software (as opposed to <em>talking about writing software</em>), I wrote the following:<br /><br /><pre><code>distance = lambda do |given_scale|<br />  (magnitudes.map { |pair| <br />    (pair.evidence - (pair.flow * given_scale)) ** 2 <br />  }).inject { |acc, distance| acc + distance }<br />end<br /></code></pre><br /><br />If you are curious, <code>distance</code> is a function that computes the distance between a curve (called a &#8216;flow&#8217;) and some evidence, given a float that scales the flow. It&#8217;s used for finding a curve that &#8216;looks like&#8217; a set of data points.<br /><br />Can you spot the bug? I&#8217;ll expunge all of the excess and give you some code you can try yourself:<br /><br /><pre><code>require 'test/unit'<br /><br />class TestRubyNames &lt; Test::Unit::TestCase<br /><br />  def test_lambda_clobbering<br />    foo = lambda { (1..3).map { |foo| foo ** 2 } }<br />    assert_nothing_raised(NoMethodError) { foo.call() }<br />    assert_raise(NoMethodError) { foo.call() } # WTF?<br />  end<br /><br />  def test_local_clobbering<br />    foo = [1, 4, 9]<br />    bar = lambda { (1..3).map { |foo| foo ** 2 } }<br />    bar.call<br />    assert_equal(3, foo) # WTF?<br />  end<br /><br />end<br /></code></pre><br /><br /><div class="book"><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://www.amazon.com/gp/product/0974514055?ie=UTF8&tag=raganwald001-20&amp;linkCode=as2&camp=1789&amp;creative=9325&creativeASIN=0974514055"><img style="" src="http://weblog.raganwald.com/uploaded_images/programming_ruby-742816.jpg" alt="" border="1" /></a><br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://www.amazon.com/gp/product/0974514055?ie=UTF8&tag=raganwald001-20&amp;linkCode=as2&camp=1789&amp;creative=9325&creativeASIN=0974514055">Programming Ruby: The Second Edition</a> is an indispensable reference, especially to the latest libraries.<br /><br /></div>Is this what you expect? Ruby <em>looks</em> like a nice, block-structured language with lexical scope. But its standard implementation has serious issues. I believe these are <a href="http://eigenclass.org/hiki.rb?Changes+in+Ruby+1.9#l8">well-known and understood</a> issues, but issues nonetheless.<br /><br />One more example. I swore I wouldn&#8217;t write anything else about fixed-point combinators for a very long time, but try this exercise at home. Here&#8217;s my <a href="http://weblog.raganwald.com/2007/02/but-y-would-i-want-to-do-thing-like.html">curry combinator</a>:<br /><br /><pre><code>require 'test/unit'<br /><br />class ExempliGratia &lt; Test::Unit::TestCase<br /><br />  CURRY = lambda { |f, a| lambda { |*b| f.call(a, *b) } }<br /><br />  def test_clean_up_loose_ends<br />    maker = lambda { |f|<br />               lambda { |func_with_me| CURRY.call(func_with_me, func_with_me) }.call(<br />                    CURRY.call(lambda { |inner_func, me, *args|<br />                                inner_func.call(CURRY.call(me, me)).call(*args) }, f)) }<br /><br />    factorial = maker.call(<br />      lambda { |f| lambda { |n| n.zero? &amp;&amp; 1 or n * f.call(n-1) } }<br />    )<br />    assert_equal(120, factorial.call(5))<br />  end<br /><br />end<br /></code></pre><br /><br />Looks good. Now let&#8217;s prove that <code>CURRY</code> is referentially transparent by replacing every <code>CURRY</code> variable with the lambda:<br /><br /><pre><code>maker = lambda { |f|<br />           lambda { |func_with_me| (lambda { |f, a| lambda { |*b| f.call(a, *b) } }).call(func_with_me, func_with_me) }.call(<br />                (lambda { |f, a| lambda { |*b| f.call(a, *b) } }).call(lambda { |inner_func, me, *args|<br />                            inner_func.call((lambda { |f, a| lambda { |*b| f.call(a, *b) } }).call(me, me)).call(*args) }, f)) }<br /><br />factorial = maker.call(<br />  lambda { |f| lambda { |n| n.zero? &amp;&amp; 1 or n * f.call(n-1) } }<br />)<br /><br />begin<br />  factorial.call(5)<br />  puts 'fine'<br />rescue SystemStackError<br />  puts 'wtf?'<br />end<br /></code></pre><br /><br />Hunh? Ruby <em>looks like</em> a nice language supporting anonymous functions, but sometimes they work and sometimes they don&#8217;t. <strike>I strongly suspect that this issue has something to do with the fact that with the &#8216;naked&#8217; lambdas we&#8217;re creating new functions with every call, whereas the version using a <code>CURRY</code> variable re-uses the same function, so the system stack overflows in one case and not the other.</strike><br /><br /><strong>Update</strong>: Mike Harris proved that this second problem is the same as the first problem: once again, variables are clobbering each other all over the place. In Ruby 1.8, blocks do not create new scope, <i>at all</i>.<br /><br />Here's Mike's submission, indented to fit:<br /><br /><pre><code><br />def test_full_anonymity<br />  assert_equal(120, (lambda { |f0|<br />                       lambda { |func_with_me| <br />                         (lambda { |f1, a1| <br />                           lambda { |*b1| f1.call(a1, *b1) } <br />                         }).call(func_with_me, func_with_me) <br />                       }.call(<br />                            (lambda { |f2, a2| <br />                              lambda { |*b2| f2.call(a2, *b2) } <br />                            }).call(<br />                              lambda { |inner_func, me, *args|<br />                                inner_func.call(<br />                                  (lambda { |f3, a3| <br />                                    lambda { |*b3| f3.call(a3, *b3) } <br />                                  }).call(me, me)).call(*args) <br />                              }, f0)) <br />                    }).call(<br />    lambda { |f| lambda { |n| n.zero? && 1 or n * f.call(n-1) } }<br />  ).call(5))<br />end<br /></code></pre><br /><br /><strong>Stop your sobbing</strong><br /><br />I&#8217;m <em>not</em> saying Ruby is an unacceptable Ruby.<br /><br />I&#8217;m <em>especially not</em> saying &#8220;See, that&#8217;s why we should stick with language X.&#8221; If language X doesn&#8217;t even try to support this kind of programming, it&#8217;s a lame argument to say that it&#8217;s a better choice. That&#8217;s like saying that your 1972 <a href="http://en.wikipedia.org/wiki/Ford_Pinto" title="The barbecue that seats four.">Pinto</a> is safer than my 2004 MX-3 because the Pinto doesn&#8217;t have air bags, and air bags can injure small children if they are sitting in the passenger seat.<br /><br />If you try to bend Ruby to do Scheme-ish things, you will run into some corner cases, some places where it does the unexpected. Can you figure them out and avoid them (some people will say avoiding corner cases makes for a <a href="http://www.joelonsoftware.com/articles/LeakyAbstractions.html">Leaky Abstraction</a>)?<br /><br />I think if you&#8217;re writing Ruby code in Ruby, you can easily avoid these problems. That&#8217;s why Ruby is an acceptable Ruby.<br /><br /><strong>Why isn&rsquo;t Ruby an acceptable implementation of Lisp?</strong><br /><br />But why isn&rsquo;t Ruby an acceptable implementation of Lisp? (Besides the lack of support for <a href="http://www.cs.indiana.edu/scheme-repository/R4RS/r4rs_12.html">hygienic macros</a>, of course!)<br /><br /><div class="book"><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://www.amazon.com/gp/product/0130305529?ie=UTF8&tag=raganwald001-20&amp;linkCode=as2&camp=1789&amp;creative=9325&creativeASIN=0130305529"><img style="" src="http://weblog.raganwald.com/uploaded_images/on_lisp-725931.jpg" alt="" border="0" /></a><br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://www.amazon.com/gp/product/0130305529?ie=UTF8&tag=raganwald001-20&amp;linkCode=as2&camp=1789&amp;creative=9325&creativeASIN=0130305529">On Lisp: Advanced Techniques for Common Lisp</a> is <b>the</b> definitive text on metaprogramming and macros. Although written for Common Lisp, its ideas are easily applicable to Scheme and even Ruby metaprogramming.<br /><br /></div>The problem is that Lisp or Lisp-style programming is all about metaprogramming. Code that writes code. Code that evals code. It&#8217;s easy to look at something like the curry combinator and say &#8220;no programmer would ever write that convoluted a function in production.&#8221; But macros and code generators routinely combine snippets of code to produce monstrosities that a human wouldn&#8217;t even considering writing.<br /><br />When writing a piece of code that writes code, you are heavily dependent on the underlying implementation being regular and corner-case free. The whole point of writing code-writing code is that you intend for it to generate variations and combinations on your templates or scaffolds. And it&#8217;s only a matter of time before you are combining template A with generator B and meta-programming method C.<br /><br />When the underlying language is robust, none of this matters. The result works. If you look at it under the hood, you&#8217;re horrified at the result. But frankly, that isn&#8217;t an argument against meta-programming, it&#8217;s an argument <em>for</em> it: let the machine do the dirty jobs we don&#8217;t want to do, and let us deal with a nice abstraction like <em>A plus B plus C</em> that just works, never mind what the code looks like.<br /><br />(Don&#8217;t even think about arguing that we should do away with code that writes code. That debate was won by the code generation folks back when COBOL and FORTRAN and ALGOL were young. From time to time you&#8217;re welcome to pull out your assembly if you like, but we use High Level Languages because we want the machine to write the messy crap for us.)<br /><br />My fear is that code that writes code might one day write code that clobbers a variable. <strike>Or code that writes code might write some nested lambdas that overflow the stack.</strike><br /><br />And that&#8217;s why Ruby is not an acceptable implementation of Lisp.<br /><br /><hr /><br />Well, ok, I confess: the title is a bit of muckraking. <a href="http://www.randomhacks.net/articles/2005/12/03/why-ruby-is-an-acceptable-lisp">Ruby is a pretty good implementation of Lisp</a>, and anyone who has two brains to rub together can point out that the issue is not whether there&#8217;s some corner case &#8220;gotcha,&#8221; but <a href="http://weblog.raganwald.com/2007/01/what-ive-learned-from-sales-part-ii.html">whether using Ruby is, on the whole, more beneficial than not using Ruby</a>.<br /><br />For what it&#8217;s worth, I consider corner cases like this a strong endorsement of trying new languages like Ruby: it&#8217;s like finding out that your sailplane has a tendency to go into an inverted flat spin when you loop at an unacceptably slow speed. It&#8217;s terrifying when it first happens, but you get through it and then you realize that the only reason you got into trouble was that you were pushing yourself hard.<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://weblog.raganwald.com/labels/lispy.html">lispy</a>, <a rel='tag' href="http://weblog.raganwald.com/labels/ruby.html">ruby</a></p>&nbsp;
					<span class="PostFooter">

						&para; <a href="http://weblog.raganwald.com/2007/02/why-ruby-is-not-acceptable.html" title="permanent link">3:03 PM</a>

					 
				</span> 


                                        <p id="postfeeds"></p>

			</div>

			

		
			
				<div class="DateHeader">Tuesday, February 06, 2007</div>
			

			<div class="Post"><a name="117078492091356135">&nbsp;</a>
				<span class="PostTitle">

					<a href="http://weblog.raganwald.com/2007/02/guest-blogger-tom-moertel-derives-y.html" title="permanent link">Guest Blogger: Tom Moertel derives the Y combinator in Ruby</a></span>
					<div style="clear:both;"></div><em>In a comment on <a href="http://weblog.raganwald.com/2007/02/but-y-would-i-want-to-do-thing-like.html">But Y would I want to do a thing like this?</a>, <a href="http://blog.moertel.com">Tom Moertel</a> derived an elegant version of the actual Y combinator in Ruby. I reproduce his words here with permission.<br /><br />Tom uses the alternate syntax for </em><code>call</code>, <code>[...]</code><em>. I avoided this to keep clear of a tiresome debate about operator overloading. (On one side: those who hate it. On the other side: those that hate Ruby disallowing overloading </em><code>(...)</code><em>).<br /><br />Ok Tom, take it away!</em><br /><hr/><br />Here&#8217;s my original Ruby definition:<br /><br /><pre><code>def y(&amp;f)<br />    lambda { |*args| f[y(&amp;f)][*args] }<br />end<br /></code></pre><br /><br />To get rid of the recursive call <code>y(&amp;f)</code>, let&#8217;s replace it with a variable <code>yf</code>, whose value we&#8217;ll say is magically equivalent to the result of the recursive call. To effect the binding of <code>yf</code>, we&#8217;ll need to wrap the method body in a new lambda expression and pass in the magic value:<br /><br /><pre><code>def y(&amp;f)<br />    lambda { |yf|<br />        lambda { |*args| f[yf[yf]][*args] }<br />    }[ &lt;&lt;&lt; placeholder for yf: we'll fill this hole next &gt;&gt;&gt; ]<br />end<br /></code></pre><br /><br />So, what value should we pass in for <code>yf</code>? Because the variable represents the value that would have been computed by calling <code>y(&amp;f)</code>, which is just the body of the <code>y</code> method, we can fill the hole with a duplicate of the body:<br /><br /><pre><code>def y(&amp;f)<br />    lambda { |yf|<br />        lambda { |*args| f[yf[yf]][*args] }<br />    }[ lambda { |yf| lambda { |*args| f[yf[yf]][*args] } } ]<br />end<br /></code></pre><br /><br />And we have our Y combinator:<br /><br /><pre><code>fac = y { |rec| lambda { |n| n &lt; 2 ? 1 : n * rec[n-1] } }<br />fac[5] # ==&gt; 120<br /></code></pre><br /><br />While the combinator works, its implementation repeats itself: there are two copies of the lambda expression<br /><br /><pre><code>lambda { |yf| lambda { |*args| f[yf[yf]][*args] } }<br /></code></pre><br /><br />in the method body. To factor them out, let&#8217;s let the variable <code>x</code> represent this expression. Then the method body simplifies to <code>x[x]</code>, which is very satisfying. To set <code>x</code> to the correct value, however, we need to add a wrapper lambda that binds <code>x</code> to the original expression. Putting it all together, we arrive at the final version:<br /><br /><pre><code>def y(&amp;f)<br />    lambda { |x| x[x] } [ <br />        lambda { |yf| lambda { |*args| f[yf[yf]][*args] } } ]<br />end<br /></code></pre><br /><br />And it, too, works:<br /><br /><pre><code>acc_fac = y { |rec| lambda { |n,acc| n &lt; 2 ? acc : rec[n-1, n*acc] } }<br />tail_fac = lambda { |n| acc_fac[n, 1] }<br />tail_fac[5] # ==&gt; 120<br /></code></pre><br /><br />Cheers! &#8212;<a href="http://blog.moertel.com">Tom</a><div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://weblog.raganwald.com/labels/lispy.html">lispy</a>, <a rel='tag' href="http://weblog.raganwald.com/labels/ruby.html">ruby</a></p>&nbsp;
					<span class="PostFooter">

						&para; <a href="http://weblog.raganwald.com/2007/02/guest-blogger-tom-moertel-derives-y.html" title="permanent link">12:58 PM</a>

					 
				</span> 


                                        <p id="postfeeds"></p>

			</div>

			

		
			

			<div class="Post"><a name="117073854086425300">&nbsp;</a>
				<span class="PostTitle">

					<a href="http://weblog.raganwald.com/2007/02/but-y-would-i-want-to-do-thing-like.html" title="permanent link">But Y would I want to do a thing like this?</a></span>
					<div style="clear:both;"></div><blockquote><br />  Choose life. Choose a job. Choose a starter home. Choose dental insurance, leisure wear and matching luggage. Choose your future. But <a href="http://en.wikipedia.org/wiki/Y_combinator" title="Y combinator">Y</a> would <a href="http://en.wikipedia.org/wiki/Combinatory_logic#Examples_of_combinators" title="Identity combinator">I</a> want to do a thing like that?<br /></blockquote>Writing about <a href="http://weblog.raganwald.com/2007/01/closures-and-higher-order-functions.html">first-class functions</a> and their <a href="http://weblog.raganwald.com/2007/02/hof-or-oop-yes.html">compatibility with object-oriented programming</a> naturally leads to the <a href="http://en.wikipedia.org/wiki/Y_combinator">Y combinator</a>. And that is the point where eyes glaze over and soft, snoring sounds rise from RSS readers everywhere.<br /><br />But please bear with me, this essay is not really about the Y combinator, it&#8217;s about learning new things and expanding our capacity to think.<br /><br /><strong>Sharpening the saw</strong><br /><br />Years ago I picked up Steven Covey&#8217;s book <a href="http://www.amazon.com/gp/product/0743269519?ie=UTF8&amp;tag=raganwald001-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0743269519">The 7 Habits of Highly Effective People</a><img src="http://www.assoc-amazon.com/e/ir?t=raganwald001-20&amp;l=as2&amp;o=1&amp;a=0743269519" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />. If the book is a test out of seven, I really wasn&#8217;t doing very well.<br /><br />If you&#8217;ve read the book, you probably remember that he talked about &#8220;Sharpening the Saw,&#8221; investing in your own abilities. That&#8217;s incredibly important, but I don&#8217;t need to tell you that. If you exercise with programming katas, or learn a new programming language once a year, or pick up a book like <a href="http://www.amazon.com/gp/product/0262562146?ie=UTF8&amp;tag=raganwald001-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0262562146">The Reasoned Schemer</a><img src="http://www.assoc-amazon.com/e/ir?t=raganwald001-20&amp;l=as2&amp;o=1&amp;a=0262562146" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /> <em>and actually go through the exercises</em>, then you are already in the top 1% of software developers for personal skills improvement. (Sorry, certifications <em>don&#8217;t count</em>. They are the classic case of doing the wrong thing for the wrong reason!)<br /><br />New ideas&#8212;by which I mean, new to you&#8212;are an important way to sharpen your saw. If for no other reason than this: the brain needs regular exercise to perform at or near its potential. Learning new things keeps you sharp, even if you don&#8217;t directly use the things you learned.<br /><br />Others have suggested that learning Lisp is beneficial to your programming skills in its own right. That&rsquo;s one good way to sharpen your saw. But I add to that an important caveat: to obtain the deepest benefit from learning a new language, you must learn to think in the new language, not just learn to translate your favourite programming language syntax and idioms into it.<br /><br /><strong>Think different</strong><br /><br />The interesting thing about that is that almost by definition, if you see something in, say, Lisp that solves a problem you already have, you won&#8217;t learn much from the Lisp code. It is tempting to think that Lisp (or any other language) will somehow do what you&#8217;re already doing in some wonderfully magic way that is obviously better. But no, that isn&#8217;t how it really works.<br /><br />For your problems are tuned to your existing tools. You simply can&#8217;t imagine problems that your tools can&#8217;t solve well, much less can&#8217;t solve at all. That&#8217;s why there are so few continuation-based web servers. Who&#8217;s going to invent one unless they have a programming paradigm with continuations?<br /><br /><div class="book"><a href="http://www.amazon.com/gp/product/0192801422?ie=UTF8&tag=raganwald001-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=0192801422"><img border="0" src="http://weblog.raganwald.com/uploaded_images/to_mock_a_mockingbird-785706"></a><img src="http://www.assoc-amazon.com/e/ir?t=raganwald001-20&l=as2&o=1&a=0192801422" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /><br /><a href="http://www.amazon.com/gp/product/0192801422?ie=UTF8&tag=raganwald001-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=0192801422">To Mock a Mockingbird</a><img src="http://www.assoc-amazon.com/e/ir?t=raganwald001-20&l=as2&o=1&a=0192801422" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />: The most enjoyable text on the subject of combinatory logic ever written. What other textbook features starlings, kestrels, and other songbirds?<br /></div>And worse, when a new tool is applied to a problem you think you know well, you will probably dismiss the things the new tool does well. Look at how many people dismiss brevity of code. Note that all of the people ignore the statistics about the constant ratio between bugs and lines of code use verbose languages. Look at how many people dismiss continuation-based servers as a design approach. Note that all of them use programming languages bereft of control flow abstractions.<br /><br />Thus, to truly learn a new tool, you must not just learn the new tool, you must <em>apply it to new kinds of problems</em>. It&#8217;s no good learning to replace simple iteration with first-class functions: all you&#8217;ve learned is syntax. To really learn first-class functions, you must seek out problems that aren&#8217;t easily solved with iteration.<br /><br /><strong>The Why of Y</strong><br /><br />Which leads me back to fixed point combinators. They appear to have no practical (as in making money) use. And that&#8217;s why I&#8217;m suggesting to you that you figure out how to make one in your language of choice. The very fact that the problem is far outside of your realm of &#8220;practicality&#8221; guarantees that you will learn something. You won&#8217;t be simply applying your same-old, same-old techniques and patterns to a slightly new problem.<br /><br />Start your research with Richard P. Gabriel&#8217;s <a href="http://www.dreamsongs.com/NewFiles/WhyOfY.pdf">The Why of Y</a>. Try porting his examples directly to your favourite programming language. If what you want to use is too brain-damaged to support closures, you may need to do a little greenspunning and build a little <a href="http://en.wikipedia.org/wiki/Function_object">functor</a> infrastructure.<br /><br />Don&#8217;t be dissuaded if you have to follow the functor route: you are learning far more about your language and about programming in general than the shmoes that settle for learning five new buzzwords related to the latest WS-* interoperability with XPath 3.x.<br /><br />If you prefer a <a href="http://weblog.raganwald.com/2007/02/its-monday-its-snowing-and-im-actually.html">fun</a> approach to learning, you can do not better than Raymond Smullyan&#8217;s <a href="http://www.amazon.com/gp/product/0192801422?ie=UTF8&amp;tag=raganwald001-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0192801422">To Mock a Mockingbird</a><img src="http://www.assoc-amazon.com/e/ir?t=raganwald001-20&amp;l=as2&amp;o=1&amp;a=0192801422" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />: an enjoyable romp through the world of combinatory logic. After reading this book, you will have mastered the S, K, I, Y, and other combinators. Added bonuses include a safe that can only be opened by applying G&ouml;del&#8217;s Incompleteness Theorem to its combination. How can you read this book and <em>not</em> learn?<br /><br /><strong>Eating my own dog food</strong><br /><br />I thought of a few things to say along these lines last week and then I abruptly realizing I was asking you to &#8220;Do as I say, not as I do.&#8221; What good is recycling problems I first encountered in University textbooks two decades ago? I put this post aside and set to work on a problem of my own.<br /><br />I set out to write a function for making recursive functions&#8212;a function <a href="http://en.wikipedia.org/wiki/Extensional_equality">extensionally equal</a> to the Y combinator&#8212;in Ruby. The ultimate goal is to take something like:<br /><br /><pre><code>lambda { |f| lambda { |n| n.zero? &amp;&amp; 1 or f.call(n-1) } }<br /></code></pre><br /><br />And be able to have it call itself recursively. In this case, to compute the <code>factorial</code> function.<br /><br />This is trivial, given that Ruby supports named recursion, but if you want to write a fixed-point combinator you want to write a function that makes recursive functions <em>without using the host language&rsquo;s support for named recursive calls</em>. In other words, you are bootstrapping named recursion out of anonymous first-class functions.<sup>1</sup><br /><br />There are important theoretical implications of being able to do this, but the killer reason to try it is to learn.<br /><br />I started my quest for a function for making recursive functions with a rather trivial observation based on OO programming and the Curry function:<br /><br /><pre><code>require 'test/unit'<br /><br />class ExempliGratia &lt; Test::Unit::TestCase<br /><br />  CURRY = lambda { |f, a| lambda { |*b| f.call(a, *b) } }<br /><br />  def test_recursive_curry<br />    maker = lambda { |func_with_me|<br />      CURRY.call(func_with_me, func_with_me)<br />    }<br />    assert_equal(120, maker.call(lambda { |me, n| n.zero? &amp;&amp; 1 or n * me.call(me, n-1) }).call(5))<br />  end<br /><br />end<br /></code></pre><br /><br />In OO some language implementations, <code>this</code> (or <code>self</code>) is a hidden parameter passed to each method. Thus, there&#8217;s a parameter&#8212;<code>me</code> in the example code&#8212;that is added for handling recursion. If you write a recursive function&#8212;like the venerable <code>factorial</code>&#8212;with the extra <code>me</code> parameter, a trivial currying operation evaluates it recursively without any need for names.<br /><br />This is obviously deficient. As noted above, we want to write <code>factorial</code> like so:<br /><br /><pre><code>lambda { |n| n.zero? &amp;&amp; 1 or f.call(n-1) }<br /></code></pre><br /><br />We&#8217;ll need an <code>f</code> from somewhere, and just as our Scheme colleagues do, we&#8217;ll bind one as a parameter in an enclosing lambda. So we want to write:<br /><br /><pre><code>lambda { |f| lambda { |n| n.zero? &amp;&amp; 1 or f.call(n-1) } }<br /></code></pre><br /><br />And somehow this should be transformed into a working <code>factorial</code> function. For the test-driven crowd, we want to write:<br /><br /><pre><code>def test_clean_up_loose_ends<br />  maker = ...<br /><br />  factorial = maker.call(<br />    lambda { |f| lambda { |n| n.zero? &amp;&amp; 1 or n * f.call(n-1) } }<br />  )<br />  assert_equal(120, factorial.call(5))<br /><br />  iterative_factorial = maker.call(<br />    lambda { |f| lambda { |n, acc| n.zero? &amp;&amp; acc or f.call(n - 1, n * acc) } }<br />  )<br />  tail_factorial = lambda { |n| iterative_factorial.call(n, 1) }<br />  assert_equal(120, tail_factorial.call(5))<br />end<br /></code></pre><br /><br />Of course, we need some code for <code>maker</code>. And the <code>iterative_factorial</code> case shows that <code>maker</code> works for functions with more than one parameter. The solution I came up with is:<br /><br /><pre><code>CURRY = lambda { |f, a| lambda { |*b| f.call(a, *b) } }<br />maker = lambda { |f|<br />       lambda { |func_with_me| CURRY.call(func_with_me, func_with_me) }.call(<br />            CURRY.call(lambda { |inner_func, me, *args|<br />                        inner_func.call(CURRY.call(me, me)).call(*args) }, f)) }<br /></code></pre><br /><br />The source code with each transformation from beginning to end is <a href="http://raganwald.com/source/curry_combinator.html">here</a> (I strongly suspect that this &#8220;curry combinator&#8221; is actually the Y combinator with a huge amount of cruft hanging off it).<br /><br />Unique or derivative, crap or craft, the process of getting it to work has enriched my mind by forcing me outside of my usual problem space. I still can&rsquo;t think of a practical application for what I&rsquo;ve just written. But I know I&rsquo;ve stretched myself.<br /><br />And now back to you: perhaps you&rsquo;re rushing off to try to implement a fixed-point combinator from first principles. Perhaps your plan is to code the canonical examples in your usual language. Those are both good paths. But whether you follow them today or not, remember the underlying principle exemplified by the fixed-point combinator:<br /><br /><em>Do not dismiss impractical or weird problems. While you may not have an immediate application for the code you write to solve such problems, you are maximizing your learning when you venture outside of your usual problem space.</em><br /><br /><hr/><br /><ol><li>Named recursion is stuff like <code>foo = lambda { |...| foo.call(:bar) }</code>. It takes advantage of the host language&rsquo;s variable binding to recurse. If you want anonymous recursion, you should be able to assign the same <code>lambda</code> to another name and have it work just as well, as in: <code>fufu = lambda { |...| foo.call(:bar) }</code>. That won&rsquo;t work if you are relying on Ruby&rsquo;s name for <code>foo</code>.</li></ol><br />p.s. Don&rsquo;t miss <a href="http://weblog.raganwald.com/2007/02/guest-blogger-tom-moertel-derives-y.html">Tom Moertel&rsquo;s derivation of the Y combinator in Ruby</a>.<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://weblog.raganwald.com/labels/lispy.html">lispy</a>, <a rel='tag' href="http://weblog.raganwald.com/labels/passion.html">passion</a>, <a rel='tag' href="http://weblog.raganwald.com/labels/popular.html">popular</a>, <a rel='tag' href="http://weblog.raganwald.com/labels/ruby.html">ruby</a></p>&nbsp;
					<span class="PostFooter">

						&para; <a href="http://weblog.raganwald.com/2007/02/but-y-would-i-want-to-do-thing-like.html" title="permanent link">12:06 AM</a>

					 
				</span> 


                                        <p id="postfeeds"></p>

			</div>

			

		
			
				<div class="DateHeader">Monday, February 05, 2007</div>
			

			<div class="Post"><a name="117070907583436996">&nbsp;</a>
				<span class="PostTitle">

					<a href="http://weblog.raganwald.com/2007/02/its-monday-its-snowing-and-im-actually.html" title="permanent link">It's Monday, it's snowing, and I'm actually happy to be at work!</a></span>
					<div style="clear:both;"></div>I found this link on <a href="">reddit.com</a>:<br /><br />&ldquo;<a href="http://www.xkcd.com/c219.html?">I&rsquo;m happy to grow up, but I won&rsquo;t pretend fun things aren&rsquo;t still fun out of fear of looking silly</a>.&rdquo;<br /><br />Ok, I didn&rsquo;t laugh hysterically at the comic. But I love the sentiment. <a href="http://flickr.com/photos/thomasb/372623001/">Raising my son</a> in partnership with my wife is a lot of fun, and that involves a <strong>serious</strong> amount of growing up.<br /><br />Why should programming be any different? Business is <em>almost</em> as serious as nurturing a life. It&rsquo;s generally considered good form to enjoy parenting. Why shouldn&rsquo;t we enjoy writing software the exact same way?<br /><br />Sure, we don&rsquo;t decide to rewrite an entire business application in <a href="http://en.wikipedia.org/wiki/Continuation-passing_style" title="Continuation-passing style">CPS</a> on a whim because it seems like it might be fun to try. Just as we don&rsquo;t teach our children to eat <a href="http://flickr.com/photos/thomasb/283014491/">Train Cake</a> for every meal.<br /><br />Let&rsquo;s not pretend fun things aren&rsquo;t still fun out of fear of looking silly. Programming is &ldquo;Grown Up.&rdquo;<br /><br />And fun.<div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://weblog.raganwald.com/labels/passion.html">passion</a></p>&nbsp;
					<span class="PostFooter">

						&para; <a href="http://weblog.raganwald.com/2007/02/its-monday-its-snowing-and-im-actually.html" title="permanent link">3:43 PM</a>

					 
				</span> 


                                        <p id="postfeeds"></p>

			</div>

			

		
			
				<div class="DateHeader">Friday, February 02, 2007</div>
			

			<div class="Post"><a name="117042956864259931">&nbsp;</a>
				<span class="PostTitle">

					<a href="http://weblog.raganwald.com/2007/02/hof-or-oop-yes.html" title="permanent link">HOF or OOP? Yes!</a></span>
					<div style="clear:both;"></div>It&#8217;s interesting how the brain works: I wrote an essay that I thought was <a href="http://weblog.raganwald.com/2007/01/closures-and-higher-order-functions.html">an explanation of what first class functions and closures <em>are</em></a>, and why some people would like to see them added to the <a href="http://www.java.com">Kitchen Sink of Languages</a>.<br /><br />Then I read <a href="http://www.wuenschenswert.net/wunschdenken/archives/117">From Functional to Object-Oriented Programming</a>, which suggests that my essay seems to be making a general statement about Functional Programming as an advance over Object Oriented Programming.<sup>1</sup><br /><br />Nothing could be further from my intention or my opinion. Smalltalk, for example, has a clean and powerful syntax for first-class functions. And those first-class functions are objects, as is <em>everything</em> in Smalltalk. I am tempted to rewrite my essay using Smalltalk: it seems that using <a href="http://www.ruby-lang.org/">Ruby</a>, another language where everything is an object, is not making this point strongly enough. In my mind, it is easy to use languages that provide the OO paradigm as well as the first-class function paradigm. At the same time.<br /><br /><strong>What I actually said</strong><br /><br />So what I actually said is: &#8220;Here are these things called <em>first-class functions</em>. This &ldquo;thing&rdquo; is where functions are exactly the same kind of thing as everything else in a language. This is useful, here is why.&#8221; If functions are first class, functions aren&#8217;t magically more special, nor are they second-class citizens in a language (like those brain-damaged primitives in crippled languages). If a language is an OO language, this implies that first-class functions in such a language are objects and that programming with them <em>is</em> OO programming.<br /><br />You&#8217;ll notice that I am not using the words &#8220;Functional Programming.&#8221; That&#8217;s because <strong>I&#8217;m not talking about Functional Programming</strong>. I&#8217;m talking about closures and first-class functions. I imagine that these things are present in all contemporary Functional Programming Languages, but that has nothing to do with my essay about the value of having first-class functions in an OO language: Smalltalk has had them in an OO language <em>for nearly thirty years</em>, and while it wasn&rsquo;t the first OO language, it is the canonical definition of class-based OO.<br /><br />That&#8217;s all I said. If you want to debate the merits of pure functional programming languages like <a href="http://www.haskell.org/">Haskell</a> against OO languages like Ruby, you have to take that up with someone like <a href="http://blog.moertel.com/" title="Tom Moertel">Tom</a> or <a href="http://www.randomhacks.net/" title="Eric Kidd">Eric</a>.<br /><br /><strong>What I don&#8217;t understand</strong><br /><br />I don&#8217;t understand the author&#8217;s objection to higher-order functional programming. He(?) says something about higher-order functions and type inference as being bad. I don&#8217;t get the argument. It seems like he is saying that the constructs are somehow too deeply nested, that it is too easy to make mistakes. I may not understand him correctly, for I have trouble seeing how this is different from having data structures with a thicket of HAS-A relationships.<br /><br />Somehow we program just fine in business with complex data schema, and we manage to keep track of things just fine. Strong typing and compiler support helps. So does IDE support. So does drawing diagrams. How is &#8220;a function taking an integer and a function taking two integers, returning a function taking a list of integers and returning an integer&#8221; somehow more complex than &#8220;a record containing an integer and that has many records containing an integer&#8221;?<br /><br />The argument seems to be (and I am open to correction, since what I think he&#8217;s saying is so obvious that I worry I&#8217;m misunderstanding it) that naming things makes all the difference, as in &#8220;a customer record with an ID has many Sales Records, each of which has an ID.&#8221; That does sound easier to understand.<br /><br />But of course, nothing stops you from naming things if you have first-class functions in a type checked OO language, does it? I am not a practitioner, but I have been working my way through <a href="http://www.amazon.com/gp/product/026256114X?ie=UTF8&amp;tag=raganwald001-20&amp;linkCode=as2&amp;camp=1789&amp;creative=9325&amp;creativeASIN=026256114X">The Little MLer</a><img src="http://www.assoc-amazon.com/e/ir?t=raganwald001-20&amp;l=as2&amp;o=1&amp;a=026256114X" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />, and it is part of the ML programming paradigm to name first-class functional types for precisely the reasons the author seems to advocate.<br /><br /><strong>Anonymity considered harmful?</strong><br /><br />So perhaps the objection is to having too many anonymous things, to having too many values without names. There is certainly an appropriate balance to be sought. One language designer seems to dislike anonymous functions, to the point where his language won&#8217;t let you have any that won&#8217;t fit on a single line. He has an <em>opinionated</em> language.<br /><br />I have seen similar arguments with non-functions. That control flow branches should not be nested too deeply (you know, <code>case</code> and <code>if</code> and the evil ternary operator). I often use the &#8220;extract variable&#8221; refactoring to simplify expressions and make them more readable. Naming a part of an expression provides a certain level of abstraction that improves comprehension.<br /><br />Types and expressions involving functions are no different, and if that&#8217;s what the author is saying I endorse his perspective.<br /><br />That statement, however, is somewhat orthogonal to whether first-class functions should exist in a language. As long as you can name them, you have the tool to write comprehensible code. If your language has types, then you ought to be able to name types involving first-class functions. As long as you can name functional values and types, you can apply all the same style guidelines to first-class functions that you apply to record types.<br /><br /><strong>In Conclusion</strong><br /><br />First-class functions are a natural fit with OO, as evidenced by their presence in OO languages that aren&#8217;t glorified PDP-11 assemblers with some OO stuff bolted on the side by people with <a href="http://www.noodlesoft.com/blog/2007/01/23/the-sun-also-sets/">very little OO and/or GUI programming experience</a>. First-class functions can be used to write clean and legible code, using all of the same techniques we use for writing clean and legible code with records, objects, and other types.<br /><br /><a href="http://www.wuenschenswert.net/wunschdenken/archives/117">From Functional to Object-Oriented Programming</a> has some interesting points about FP and OOP and their historical context. This has nothing to do with my original post, but I think those words are worth reading and considering. The post raises some caveats about complex and anonymous first-class functions that are obviously sensible: we have noticed the same things with other forms of expression in programming.<br /><br /><hr/><br /><ol><li>I will come clean here: when I think of OO, I am <em>not</em> thinking of C++ or Java, especially as they are practised in business. I&#8217;m thinking of languages like <a href="http://research.sun.com/self/language.html">Self</a>, <a href="http://en.wikipedia.org/wiki/Actor">Actor</a>, and <a href="http://www.smalltalk.org/">Smalltalk</a>.</li></ol><div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://weblog.raganwald.com/labels/lispy.html">lispy</a></p>&nbsp;
					<span class="PostFooter">

						&para; <a href="http://weblog.raganwald.com/2007/02/hof-or-oop-yes.html" title="permanent link">10:16 AM</a>

					 
				</span> 


                                        <p id="postfeeds"></p>

			</div>

			

		


	</div>







	<div id="rightcontent">

		<div class="SideBarTitle"><a href="http://reginald.braythwayt.com">Reg Braithwaite</a></div>

		<br />

		<br />

		<div class="SideBarTitle">Recent Writing</div>

                <a href="http://homoiconic.com">Homoiconic</a>

		<br/>

		<br/>

		<div class="SideBarTitle">Share</div>

                <a href="http://github.com/raganwald/rewrite_rails">rewrite_rails</a> /

                <a href="http://github.com/raganwald/andand">andand</a> /

                <a href="http://raganwald.com/source/unfold.rb.html">unfold.rb</a> /

                <a href="http://raganwald.com/source/string_to_proc.rb.html">string_to_proc.rb</a> /

                <a href="http://raganwald.com/source/dsl_and_let.html">dsl_and_let.rb</a> /

                <a href="http://raganwald.com/source/comprehensions.html">comprehension.rb</a> /

                <a href="http://raganwald.com/source/lazy_lists.html">lazy_lists.rb</a>

		<br />

		<br />

		<div class="SideBarTitle">Beauty</div> <!-- idioms -->

		<a href="http://weblog.raganwald.com/2008/04/is-strictly-equivalent-to.html">IS-STRICTLY-EQUIVALENT-TO-A</a> /

		<a href="http://weblog.raganwald.com/2008/03/spaghetti-western-coding.html">Spaghetti-Western Coding</a> /

		<a href="http://weblog.raganwald.com/2007/12/golf-is-good-program-spoiled.html">Golf is a good program spoiled</a> /

		<a href="http://weblog.raganwald.com/2007/11/programming-conventions-as-signals.html">Programming conventions as signals</a> /

                <a href="http://weblog.raganwald.com/2007/10/too-much-of-good-thing-not-all.html">Not all functions should be object methods</a>

<br/><br/>

                <a href="http://weblog.raganwald.com/2007/05/not-so-big-software-application.html">The Not So Big Software Design</a> /

		<a href="http://weblog.raganwald.com/2007/04/writing-programs-for-people-to-read.html">Writing programs for people to read</a> /
                
		<a href="http://weblog.raganwald.com/2007/03/why-why-functional-programming-matters.html">Why Why Functional Programming Matters Matters</a> /

		<a href="http://weblog.raganwald.com/2007/02/but-y-would-i-want-to-do-thing-like.html">But Y would I want to do a thing like this?</a>

		<br />

		<br />

		<div class="SideBarTitle">Work</div>

                <a href="http://weblog.raganwald.com/2008/04/single-most-important-thing-you-must-do.html">The single most important thing you must do to improve your programming career</a> /

                <a href="http://weblog.raganwald.com/2008/02/naive-approach-to-hiring-people.html">The Na&iuml;ve Approach to Hiring People</a> /

                <a href="http://weblog.raganwald.com/2008/01/no-disrespect.html">No Disrespect</a> /

		<a href="http://weblog.raganwald.com/2006/11/take-control-of-your-interview.html">Take control of your interview</a> /

		<a href="http://weblog.raganwald.com/2006/08/three-tips-for-getting-job-through.html">Three tips for getting a job through a recruiter</a> /

		<a href="http://weblog.raganwald.com/2006/06/my-favourite-interview-question.html">My favourite interview question</a>

                <br/>

                <br/>



                <div class="SideBarTitle">Buy Raganwald a Coffee</div>
				
                       <div style="float: right; width: 64px; margin-left: 6px; font-style: italic; text-align: center; font-size: 80%;"><form name="DoubleEspresso" action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_donations">
<input type="hidden" name="business" value="raganwald@gmail.com">
<input type="hidden" name="item_name" value="Buy Raganwald a Darkhorse Double Espresso">
<input type="hidden" name="item_number" value="DoubleEspresso">
<input type="hidden" name="amount" value="3.15">
<input type="hidden" name="no_shipping" value="0">
<input type="hidden" name="logo_custom" value="http://weblog.raganwald.com/uploaded_images/coffeecup.png">
<input type="hidden" name="no_note" value="1">
<input type="hidden" name="currency_code" value="USD">
<input type="hidden" name="tax" value="0">
<input type="hidden" name="lc" value="CA">
<input type="hidden" name="bn" value="PP-DonationsBF">
<input type="image" src="http://weblog.raganwald.com/uploaded_images/coffeecup.png" width="64" height="64" border="0" name="submit" alt="Make payments with PayPal - it's fast, free and secure!">
<img alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form></div>If you enjoy reading my weblog, please consider <a href="#"
title="Buy Raganwald a darkhorse double espresso, for $3.15" onclick="javascript: document.DoubleEspresso.submit();">buying me a Darkhorse Double Espresso, for just $3.15</a>
                       Thank you!

		<br />

		<br />



		<div class="SideBarTitle">Management</div>

		<a href="http://weblog.raganwald.com/2008/02/exception-handling-in-software.html">Exception Handling in Software Development</a> /

		<a href="http://weblog.raganwald.com/2007/11/what-if-powerful-languages-and-idioms.html">What if powerful languages and idioms only work for small teams?</a> /

                <a href="http://weblog.raganwald.com/2007/08/bricks.html">Bricks</a> /

                <a href="http://weblog.raganwald.com/2007/06/which-theory-first-evidence.html">Which theory fits the evidence?</a> /

                <a href="http://weblog.raganwald.com/2007/06/still-failing-still-learning.html">Still failing, still learning</a> /

		<a href="http://weblog.raganwald.com/2005/01/what-ive-learned-from-failure.html">What I&rsquo;ve learned from failure</a>

		<br />

		<br />

		<div class="SideBarTitle">Notation</div> <!-- languages -->

		<a href="http://weblog.raganwald.com/2008/06/what-does-do-when-used-as-unary.html">The unary ampersand in Ruby</a> /

		<a href="http://weblog.raganwald.com/2008/02/1100inject.html">(1..100).inject(&amp;:+)</a> /

                <a href="http://weblog.raganwald.com/2007/10/challenge-of-teaching-yourself.html">The challenge of teaching yourself a programming language</a> /

                <a href="http://weblog.raganwald.com/2006/11/significance-of-meta-circular_22.html">The significance of the meta-circular interpreter</a> /
                
                <a href="http://weblog.raganwald.com/2007/08/block-structured-javascript.html">Block-Structured Javascript</a> /

                <a href="http://weblog.raganwald.com/2007/02/haskell-ruby-and-infinity.html">Haskell, Ruby and Infinity</a> /

		<a href="http://weblog.raganwald.com/2007/01/closures-and-higher-order-functions.html">Closures and Higher-Order Functions</a>

		<br />

		<br />

		<div class="SideBarTitle">Opinion</div>

		<a href="http://weblog.raganwald.com/2008/05/why-apple-is-more-expensive-than-amazon.html">Why Apple is more expensive than Amazon</a> /

		<a href="http://weblog.raganwald.com/2008/04/why-we-are-biggest-obstacle-to-our-own.html">Why we are the biggest obstacles to our own growth</a> /

		<a href="http://weblog.raganwald.com/2008/03/process-is-to-software-as-software-is.html">Is software the documentation of business process mistakes?</a> /

		<a href="http://weblog.raganwald.com/2007/09/we-have-lost-control-of-apparatus.html">We have lost control of the apparatus</a> /

		<a href="http://weblog.raganwald.com/2007/01/what-ive-learned-from-sales-part-i.html">What I&rsquo;ve Learned From Sales</a>
                <a href="http://weblog.raganwald.com/2007/01/what-ive-learned-from-sales-part-i.html" title="What I've Learned From Sales, Part I: Don't Feed the Trolls">I</a>, 
                <a href="http://weblog.raganwald.com/2007/01/what-ive-learned-from-sales-part-ii.html" title="What I've Learned from Sales, Part II: Wanna Bet?">II</a>, 
                <a href="http://weblog.raganwald.com/2007/10/how-to-use-blunt-instrument-to-sharpen.html" title="What I've Learned from Sales, Part III: How to use a blunt instrument to sharpen your saw">III</a>

		<br/>

		<br/>

		<div class="SideBarTitle">Whimsey</div>

                <a href="http://weblog.raganwald.com/2008/05/narcissism-of-small-code-differences.html">The Narcissism of Small Code Differences</a> /

		<a href="http://weblog.raganwald.com/2008/01/billy-martins-technique-for-managing.html">Billy Martin&rsquo;s Technique for Managing his Manager</a> /

		<a href="http://weblog.raganwald.com/2007/10/three-stories-about-tao.html">Three stories about The Tao</a> /

		<a href="http://weblog.raganwald.com/2007/02/programming-language-stories.html">Programming Language Stories</a> /

		<a href="http://weblog.raganwald.com/2005/07/why-you-need-degree-to-work-for-bigco.html">Why You Need a Degree to Work For BigCo</a>

		<br />

		<br />

		<div class="SideBarTitle">History</div>

		
			<a href="http://weblog.raganwald.com/archives/2004_06_01_archive.html">06/04</a> /
		
			<a href="http://weblog.raganwald.com/archives/2004_07_01_archive.html">07/04</a> /
		
			<a href="http://weblog.raganwald.com/archives/2004_08_01_archive.html">08/04</a> /
		
			<a href="http://weblog.raganwald.com/archives/2004_09_01_archive.html">09/04</a> /
		
			<a href="http://weblog.raganwald.com/archives/2004_10_01_archive.html">10/04</a> /
		
			<a href="http://weblog.raganwald.com/archives/2004_11_01_archive.html">11/04</a> /
		
			<a href="http://weblog.raganwald.com/archives/2004_12_01_archive.html">12/04</a> /
		
			<a href="http://weblog.raganwald.com/archives/2005_01_01_archive.html">01/05</a> /
		
			<a href="http://weblog.raganwald.com/archives/2005_02_01_archive.html">02/05</a> /
		
			<a href="http://weblog.raganwald.com/archives/2005_03_01_archive.html">03/05</a> /
		
			<a href="http://weblog.raganwald.com/archives/2005_04_01_archive.html">04/05</a> /
		
			<a href="http://weblog.raganwald.com/archives/2005_06_01_archive.html">06/05</a> /
		
			<a href="http://weblog.raganwald.com/archives/2005_07_01_archive.html">07/05</a> /
		
			<a href="http://weblog.raganwald.com/archives/2005_08_01_archive.html">08/05</a> /
		
			<a href="http://weblog.raganwald.com/archives/2005_09_01_archive.html">09/05</a> /
		
			<a href="http://weblog.raganwald.com/archives/2005_10_01_archive.html">10/05</a> /
		
			<a href="http://weblog.raganwald.com/archives/2005_11_01_archive.html">11/05</a> /
		
			<a href="http://weblog.raganwald.com/archives/2006_01_01_archive.html">01/06</a> /
		
			<a href="http://weblog.raganwald.com/archives/2006_02_01_archive.html">02/06</a> /
		
			<a href="http://weblog.raganwald.com/archives/2006_03_01_archive.html">03/06</a> /
		
			<a href="http://weblog.raganwald.com/archives/2006_04_01_archive.html">04/06</a> /
		
			<a href="http://weblog.raganwald.com/archives/2006_05_01_archive.html">05/06</a> /
		
			<a href="http://weblog.raganwald.com/archives/2006_06_01_archive.html">06/06</a> /
		
			<a href="http://weblog.raganwald.com/archives/2006_07_01_archive.html">07/06</a> /
		
			<a href="http://weblog.raganwald.com/archives/2006_08_01_archive.html">08/06</a> /
		
			<a href="http://weblog.raganwald.com/archives/2006_09_01_archive.html">09/06</a> /
		
			<a href="http://weblog.raganwald.com/archives/2006_10_01_archive.html">10/06</a> /
		
			<a href="http://weblog.raganwald.com/archives/2006_11_01_archive.html">11/06</a> /
		
			<a href="http://weblog.raganwald.com/archives/2006_12_01_archive.html">12/06</a> /
		
			<a href="http://weblog.raganwald.com/archives/2007_01_01_archive.html">01/07</a> /
		
			<a href="http://weblog.raganwald.com/archives/2007_02_01_archive.html">02/07</a> /
		
			<a href="http://weblog.raganwald.com/archives/2007_03_01_archive.html">03/07</a> /
		
			<a href="http://weblog.raganwald.com/archives/2007_04_01_archive.html">04/07</a> /
		
			<a href="http://weblog.raganwald.com/archives/2007_05_01_archive.html">05/07</a> /
		
			<a href="http://weblog.raganwald.com/archives/2007_06_01_archive.html">06/07</a> /
		
			<a href="http://weblog.raganwald.com/archives/2007_07_01_archive.html">07/07</a> /
		
			<a href="http://weblog.raganwald.com/archives/2007_08_01_archive.html">08/07</a> /
		
			<a href="http://weblog.raganwald.com/archives/2007_09_01_archive.html">09/07</a> /
		
			<a href="http://weblog.raganwald.com/archives/2007_10_01_archive.html">10/07</a> /
		
			<a href="http://weblog.raganwald.com/archives/2007_11_01_archive.html">11/07</a> /
		
			<a href="http://weblog.raganwald.com/archives/2007_12_01_archive.html">12/07</a> /
		
			<a href="http://weblog.raganwald.com/archives/2008_01_01_archive.html">01/08</a> /
		
			<a href="http://weblog.raganwald.com/archives/2008_02_01_archive.html">02/08</a> /
		
			<a href="http://weblog.raganwald.com/archives/2008_03_01_archive.html">03/08</a> /
		
			<a href="http://weblog.raganwald.com/archives/2008_04_01_archive.html">04/08</a> /
		
			<a href="http://weblog.raganwald.com/archives/2008_05_01_archive.html">05/08</a> /
		
			<a href="http://weblog.raganwald.com/archives/2008_06_01_archive.html">06/08</a> /
		
			<a href="http://weblog.raganwald.com/archives/2008_07_01_archive.html">07/08</a> /
		
		<script type="text/javascript" language="Javascript">if (location.href.indexOf("archive")!=-1) document.write("<strong><a href=\"http://weblog.raganwald.com/welcome.html\">Current Posts</a></strong>");</script>
		<br/></p>
		<br/>

		<p class="profile-link"><a href="http://feeds.raganwald.com/raganwald"><img src="http://feeds.raganwald.com/~fc/raganwald?bg=&amp;fg=&amp;anim=0" height="26" width="88" style="border: 0pt none ; vertical-align: middle;" alt="" /></a>&nbsp;<a href="http://feeds.raganwald.com/raganwald" rel="alternate" type="application/rss+xml"><img src="http://www.raganwald.com/fb/images/pub/feed-icon16x16.png" alt="" style="border: 0pt none ; vertical-align: middle;"></a>&nbsp;<a href="http://feeds.raganwald.com/raganwald" rel="alternate" type="application/rss+xml">Subscribe in a reader</a></p>

	</div>





	<div style="visibility: hidden">
		
		
		<script type="text/javascript" src="http://www.assoc-amazon.com/s/link-enhancer?tag=raganwald001-20">
		</script>
		<noscript>
			<img src="http://www.assoc-amazon.com/s/noscript?tag=raganwald001-20" alt="" />
		</noscript>
	</div>

</body>
</html>
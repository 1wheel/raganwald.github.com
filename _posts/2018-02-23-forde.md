---
title: "Forde's Law"
layout: default
tags: [allonge, noindex]
---

> “Any sufficiently complicated model class contains an ad-hoc, informally-specified, bug-ridden, slow implementation of half of a State Machine.”

_Forde's Tenth Rule_ is named after Pete Forde, who may or may not have said those exact words, and may or may not have nine other rules.

But Pete definitely pointed out that most domain models are best represented as state machines, and if we don't build them that way from the start, we end up with difficult-to-understand and difficult-to-maintain accretions of incomplete state machine functionality. Building models, especially domain models, as state machines from the start allows us to tame complexity and more easily map requirements to functionality.

So, what is a State Machine? And how does it help?

---

[![A coin operated turnstile](/assets/images/state-machine/deposit-coins-here.jpg)](https://www.flickr.com/photos/walkingsf/7013161873)

### finite state machines

> A [finite state machines][fsm], or simply a _state machine_, is a mathematical model of computation. It is an abstract machine that can be in exactly one of a finite number of states at any given time. The FSM can change from one state to another in response to some external inputs; the change from one state to another is called a transition. An FSM is defined by a list of its states, its initial state, and the conditions for each transition.--[Wikipedia][fsm]

[fsm]: https://en.wikipedia.org/wiki/Finite-state_machine

Well, that's a mouthful. To put it in context from a programming (as opposed to idealized model of computation) point of view, when we program with objects, we build little machines. They have internal state and respond to messages or events from the rest of the program via the mechanism of their methods. (JavaScript also permist direct acesss to properties, but let's consider the subset of programs that only interact with objects via methods.)

Most objects are designed to encapsulate some kind of state. Stateless objects are certainly a thing, but let's put them aside and consider only objects that have state. Some such objects can be considered State Machines, some cannot. What distinguishes them?

**First, a state machine has a notion of a _state_.** All stateful objects have some kind of "state," but a state machine reifies this and gives it a name. Furthermore, there are a finite number of possible states that a state machine can be in, and it is always in exactly one of these states.

For example let's say that a bank account has a balance and it can be be one of `open`, `closed`, or `frozen`. Its balance certainly is stateful, but it's "state" is `open`, `closed`, or `frozen`.

**Second, a state machine formally defines a starting state, and allowable transitions between states**. The aforementioned bank account starts in `open` state. It can transition from `open` to either `closed` or `frozen`. It can transition from `closed` back to `open`, but not `frozen`. It can transition from `frozen` to either `open` or `closed`. This is usually noted with a directed graph:

![Banck Account States](/assets/images/state-machine/account.jpg)
